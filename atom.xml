<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç„¶è€Œï¼Œç„¶è€Œ</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://thea-r.github.io/"/>
  <updated>2018-07-01T09:53:07.000Z</updated>
  <id>http://thea-r.github.io/</id>
  
  <author>
    <name>Thea-R</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2018æš‘å‡é›†è®­è®°å½•ï¼ˆä¸€ï¼‰</title>
    <link href="http://thea-r.github.io/2018/06/30/2018%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E8%AE%B0%E5%BD%95%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://thea-r.github.io/2018/06/30/2018æš‘å‡é›†è®­è®°å½•ï¼ˆä¸€ï¼‰/</id>
    <published>2018-06-30T08:44:14.000Z</published>
    <updated>2018-07-01T09:53:07.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€æš‘å‡é›†è®­ä¸ªäººæ—¥å¸¸ï¼ˆå¥½ç†Ÿæ‚‰çš„å¼€åœºğŸ™Šï¼‰ã€‚  </p>
<a id="more"></a>  
<p>ã€€ã€€  </p>
<hr>
<p>ã€€ã€€  </p>
<h1 id="day1-06-30"><a href="#day1-06-30" class="headerlink" title="day1 06.30"></a>day1 06.30</h1><ol>
<li><h3 id="Contestï¼šThe-2015-ACM-ICPC-ChangChun-Regional-Contest"><a href="#Contestï¼šThe-2015-ACM-ICPC-ChangChun-Regional-Contest" class="headerlink" title="Contestï¼šThe 2015 ACM-ICPC ChangChun Regional Contest"></a><a href="http://icpc.njust.edu.cn/Contest/6259/" target="_blank" rel="external">Contestï¼šThe 2015 ACM-ICPC ChangChun Regional Contest</a></h3><p>[ğŸˆ]    <del><strong>A    Too Richï¼ˆè´ªå¿ƒï¼‰</strong></del></p>
<p>[ã€€]    B    Count a * b</p>
<p>[ã€€]    C    Play a game</p>
<p>[ã€€]    D    Pipes selection</p>
<p>[ã€€]    E    Rebuild</p>
<p>[ğŸˆ]    F    Almost Sorted Arrayï¼ˆé€’æ¨ï¼‰</p>
<p>[ğŸˆ]    G    Dancing Stars on Meï¼ˆè®¡ç®—å‡ ä½•å‡¸åŒ…ï¼‰</p>
<p>[ğŸˆ]    <strong><del>H    Partial Treeï¼ˆå®Œå…¨èƒŒåŒ…ï¼‰</del></strong></p>
<p>[ã€€]    I    Chess Puzzle</p>
<p>[ğŸˆ]    J    Chip Factoryï¼ˆæš´åŠ›ï¼01Trieæ ‘ï¼‰</p>
<p>[ã€€]    K    Maximum Spanning Forest</p>
<p>[ğŸˆ]    L    House Buildingï¼ˆç®€å•è®¡ç®—ï¼‰</p>
<p>[ã€€]    M    Security Corporation</p>
</li>
<li><h3 id="Chaos"><a href="#Chaos" class="headerlink" title="Chaos"></a>Chaos</h3><p>   Gè¯»å®Œé¢˜ç›®ä¸çœ‹æ ·ä¾‹äºæ˜¯å°±ç†è§£é”™äº†â€¦ Jè¯»å®Œé¢˜ç›®ç®—ç®—å¤æ‚åº¦ä¸æ•¢è½äºæ˜¯éš”å£å°±Aäº†â€¦ Fè¾¹ç•Œä¸å¥½å¥½å¤„ç†äºæ˜¯1Aå°±æ²¡äº†â€¦ å»å¹´day4çš„Aé¢˜æˆ‘å†™äº†ä¸ªæ¶å¿ƒçš„ä¼˜å…ˆé˜Ÿåˆ—ç„¶åä»Šå¤©å†™äº†ä¸ªä¼˜ç¾çš„çº¿æ®µæ ‘è¿˜åœ¨æ²¾æ²¾è‡ªå–œç„¶åå‘ç°å…¶å®åªè¦æ‰«ä¸€éé¢„å¤„ç†å°±overäº†â€¦ æ»šç²—ğŸ‘‹ã€‚    </p>
</li>
<li><h3 id="Solutions"><a href="#Solutions" class="headerlink" title="Solutions"></a>Solutions</h3><ul>
<li><p>ã€Aã€‘æ•°æ®èŒƒå›´å¤ªå¤§ä¸èƒ½èƒŒåŒ…ï¼Œä½†æ˜¯è¿™é¢˜æ¯”æ™®é€šèƒŒåŒ…æ›´å·§å¦™çš„æ¡ä»¶åœ¨äºï¼Œé™¤äº†$50$å’Œ$500$ï¼Œå…¶ä½™ç¡¬å¸çš„ä»·å€¼éƒ½æ˜¯å‰ä¸€ä¸ªçš„æ•´æ•°å€ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç”¨è‹¥å¹²ä¸ªç¡¬å¸$i$ä»£æ›¿ä¸€ä¸ªç¡¬å¸$i+1$ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æšä¸¾çš„æ—¶å€™å¦‚æœè€ƒè™‘å¤šå–ä¸€ä¸ª$50/500$å‡‘æˆ$100/1000$ï¼Œé‚£å°±å¯ä»¥ä¿è¯è´ªå¿ƒçš„æ­£ç¡®æ€§ã€‚è´ªå¿ƒç­–ç•¥æ˜¯ï¼Œç”¨å°½å¯èƒ½å¤šçš„å°é¢å€¼ç¡¬å¸ï¼Œå‰ææ˜¯å°é¢å€¼ç¡¬å¸å¯ä»¥å‡‘å‡ºå½“å‰éœ€è¦çš„é’±æ•°ï¼Œæ‰€ä»¥ä»å¤§é¢å€¼çš„å¼€å§‹å†³ç­–ã€‚  </p>
<div><div class="fold_hider"><div class="close hider_title">ã€ŒæŸ¥çœ‹ä»£ç ã€</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">15</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, p, ans, c[maxn], val[maxn]=&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">200</span>, <span class="number">500</span>, <span class="number">1000</span>, <span class="number">2000</span>&#125;, sum[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dfs</span><span class="params">(<span class="keyword">int</span> tot, <span class="keyword">int</span> id, <span class="keyword">int</span> cnt)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(tot&lt;<span class="number">0</span>)	<span class="keyword">return</span> ;</div><div class="line">	<span class="keyword">if</span>(id==<span class="number">0</span>)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(tot==<span class="number">0</span>)	ans=max(ans, cnt);</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> ret=max(tot-sum[id<span class="number">-1</span>], <span class="number">0</span>);</div><div class="line">	<span class="keyword">int</span> tmp=ret/val[id]+(ret%val[id]!=<span class="number">0</span>);</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(tmp&lt;=c[id])	Dfs(tot-tmp*val[id], id<span class="number">-1</span>, cnt+tmp);</div><div class="line">	<span class="keyword">if</span>(tmp+<span class="number">1</span>&lt;=c[id])  Dfs(tot-(tmp+<span class="number">1</span>)*val[id], id<span class="number">-1</span>, cnt+tmp+<span class="number">1</span>);</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="keyword">while</span>(T--)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;p);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=<span class="number">10</span>; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;c[i]);</div><div class="line">			sum[i]=c[i]*val[i]+sum[i<span class="number">-1</span>];</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		ans=<span class="number">-1</span>;</div><div class="line">		Dfs(p, <span class="number">10</span>, <span class="number">0</span>);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

</div></div>  
</li>
<li><p>ã€Hã€‘å› ä¸º$n$ä¸ªç‚¹çš„æ ‘æ€»åº¦æ•°ç¡®å®šä¸º$2n-2$ï¼Œä¸€ä¸ªå¾ˆç›´æ¥çš„æƒ³æ³•æ˜¯åšå®Œå…¨èƒŒåŒ…ï¼Œä½†æœ€ç®€å•çš„èƒŒåŒ…ä¸èƒ½ä¿è¯è¿é€šã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘å…ˆæŠŠæ¯ä¸ªç‚¹åˆ†é…$1$åº¦ï¼Œæå‰ä¿è¯è¿é€šï¼Œå‰©ä¸‹çš„$n-2$åº¦å†è¿›è¡Œå®Œå…¨èƒŒåŒ…ï¼Œå› ä¸ºæ¯æ¬¡åˆ†é…ç›¸å½“äºæŠŠä¸€ä¸ªç‚¹çš„ä»$1$åº¦å˜æˆäº†$k$åº¦ï¼Œæ‰€ä»¥å¢åŠ çš„è´¡çŒ®åº”è¯¥æ˜¯$a[1]-a[k]$ï¼ˆæ³¨æ„$f$æ•°ç»„ä¸èƒ½åˆå§‹åŒ–ä¸º-1ï¼Œå› ä¸ºè¿™é‡Œæœ‰å¯èƒ½ä¸ºè´Ÿæ•°= =ï¼‰ï¼Œæœ€ç»ˆç­”æ¡ˆä¸º$f[n-2]+n*a[1]$ã€‚  </p>
  <div><div class="fold_hider"><div class="close hider_title">ã€ŒæŸ¥çœ‹ä»£ç ã€</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">2500</span>+<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, n, m, a[maxn], f[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="keyword">while</span>(T--)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">		</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; i++)	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</div><div class="line"></div><div class="line">		<span class="built_in">memset</span>(f, <span class="number">0x8f</span>, <span class="keyword">sizeof</span> f);</div><div class="line">		f[<span class="number">0</span>]=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i&lt;n; i++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=i<span class="number">-1</span>; j&lt;=n<span class="number">-2</span>; j++)</div><div class="line">				f[j]=max(f[j], f[j-i+<span class="number">1</span>]+a[i]-a[<span class="number">1</span>]);</div><div class="line"></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, f[n<span class="number">-2</span>]+n*a[<span class="number">1</span>]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

</div></div>  
</li>
<li><p>ã€Jã€‘æš´åŠ›æ°´ï¼ŒTrieåšæ³•åè¡¥â€¦  </p>
</li>
</ul>
</li>
</ol>
<h1 id="day2-07-01"><a href="#day2-07-01" class="headerlink" title="day2 07.01"></a>day2 07.01</h1><ol>
<li><h3 id="Contestï¼šThe-2015-ACM-ICPC-Shenyang-Regional-Contest"><a href="#Contestï¼šThe-2015-ACM-ICPC-Shenyang-Regional-Contest" class="headerlink" title="Contestï¼šThe 2015 ACM-ICPC Shenyang Regional Contest"></a><a href="http://icpc.njust.edu.cn/Contest/6263/" target="_blank" rel="external">Contestï¼šThe 2015 ACM-ICPC Shenyang Regional Contest</a></h3><p>â€‹</p>
</li>
<li><h3 id="Chaos-1"><a href="#Chaos-1" class="headerlink" title="Chaos"></a>Chaos</h3><p> â€‹</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€æš‘å‡é›†è®­ä¸ªäººæ—¥å¸¸ï¼ˆå¥½ç†Ÿæ‚‰çš„å¼€åœºğŸ™Šï¼‰ã€‚  &lt;/p&gt;
    
    </summary>
    
      <category term="ACMè®­ç»ƒè®°å½•" scheme="http://thea-r.github.io/categories/ACM%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95/"/>
    
    
      <category term="record" scheme="http://thea-r.github.io/tags/record/"/>
    
  </entry>
  
  <entry>
    <title>HDU6086 Rikka with String</title>
    <link href="http://thea-r.github.io/2017/08/09/HDU6086-Rikka-with-String/"/>
    <id>http://thea-r.github.io/2017/08/09/HDU6086-Rikka-with-String/</id>
    <published>2017-08-09T01:58:52.000Z</published>
    <updated>2018-07-01T09:53:11.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2017 Multi-University Training Contest 5  </p>
<p>ã€€ã€€é¢˜æ„ï¼šç»™å®šnä¸ª01æ¨¡å¼ä¸²ï¼Œæ±‚ä¸€ä¸ªé•¿åº¦ä¸º2Lã€è¦†ç›–å…¨éƒ¨æ¨¡å¼ä¸²çš„åå¯¹ç§°(å¯¹äºä»»æ„xï¼Œæ¯ä¸€ä¸ªå¯¹ç§°ä½ç½®éƒ½ä¸åŒ)ä¸»ä¸²çš„ä¸ªæ•°ã€‚  <a href="http://acm.hdu.edu.cn/showproblem.php?pid=4057" target="_blank" rel="external">- åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€å¯¹äºæ¯ä¸ªæ¨¡å¼ä¸²ï¼Œå®ƒåœ¨ä¸»ä¸²ä¸­å¯èƒ½æœ‰è¿™æ ·ä¸€äº›æƒ…å†µï¼š  </p>
<ul>
<li>å‡ºç°åœ¨å·¦ä¸²ï¼Œæ­¤æ—¶å±•ç¤ºå‡ºæ¥çš„æ˜¯åŸä¸²  </li>
<li>å‡ºç°åœ¨å³ä¸²ï¼Œä¸æ­¤ç›¸å¯¹åº”çš„ï¼Œå·¦ä¸²é‡Œä¸€å®šæœ‰å®ƒçš„åå¯¹ç§°ä¸²  </li>
</ul>
<p>ã€€ã€€é‚£æˆ‘ä»¬æŠŠæ¯ä¸ªä¸²çš„åŸä¸²å’Œåå¯¹ç§°ä¸²åŒæ—¶æ’å…¥ACè‡ªåŠ¨æœºä¸­ï¼Œåªéœ€è¦å¤„ç†é•¿åº¦ä¸ºLçš„ä¸²ã€‚è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯æ¨¡å¼ä¸²æ¨ªè·¨å·¦å³ä¸¤ä¸²ï¼Œæ­¤æ—¶éœ€è¦ç‰¹æ®Šå¤„ç†å“ªäº›ç‚¹å¯ä»¥ä½œä¸ºä¸²ç»ˆç‚¹ã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1024</span>+<span class="number">10</span>, DEF=<span class="number">0x8f8f8f8f</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, m, rt, tot, val[maxn];</div><div class="line"><span class="keyword">bool</span> f[<span class="number">2</span>][maxn][maxn];</div><div class="line"><span class="keyword">struct</span> node</div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> nxt[<span class="number">4</span>], fail, st;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">()</span></div><div class="line">	</span>&#123;</div><div class="line">		fail=st=<span class="number">0</span>;</div><div class="line">		<span class="built_in">memset</span>(nxt, <span class="number">0</span>, <span class="keyword">sizeof</span> nxt);</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line">&#125;tr[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getch</span><span class="params">(<span class="keyword">char</span> c)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(c==<span class="string">'A'</span>)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span>(c==<span class="string">'T'</span>)	<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(c==<span class="string">'G'</span>)	<span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">	<span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">int</span> rt, <span class="keyword">int</span> k, <span class="keyword">char</span> *ch)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>, len=<span class="built_in">strlen</span>(ch), cur; i&lt;len; i++)</div><div class="line">	&#123;</div><div class="line">		cur=getch(ch[i]);</div><div class="line">		<span class="keyword">if</span>(!tr[rt].nxt[cur])</div><div class="line">		&#123;</div><div class="line">			tr[++tot].Init();</div><div class="line">			tr[rt].nxt[cur]=tot;</div><div class="line">		&#125;</div><div class="line">		rt=tr[rt].nxt[cur];</div><div class="line">	&#125;</div><div class="line">	tr[rt].st|=(<span class="number">1</span>&lt;&lt;k);</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Build</span><span class="params">(<span class="keyword">int</span> rt)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</div><div class="line">	q.push(rt);</div><div class="line">	<span class="keyword">while</span>(!q.empty())</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> now=q.front(), p=<span class="number">0</span>;</div><div class="line">		q.pop();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(!tr[now].nxt[i])	tr[now].nxt[i]=tr[tr[now].fail].nxt[i];</div><div class="line">			<span class="keyword">else</span></div><div class="line">			&#123;</div><div class="line">				p=tr[now].nxt[i];</div><div class="line">				q.push(p);</div><div class="line">				<span class="keyword">if</span>(now)	tr[p].fail=tr[tr[now].fail].nxt[i];</div><div class="line">				tr[p].st|=tr[tr[p].fail].st;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Cal</span><span class="params">(<span class="keyword">int</span> st)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">int</span> cnt=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) <span class="keyword">if</span>(st&amp;(<span class="number">1</span>&lt;&lt;i))	cnt+=val[i];</div><div class="line">	<span class="keyword">return</span> cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Work</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);</div><div class="line">	f[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">int</span> lim=<span class="number">1</span>&lt;&lt;n, u=<span class="number">0</span>, ans=DEF;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)</div><div class="line">	&#123;</div><div class="line">		u^=<span class="number">1</span>;</div><div class="line">		<span class="built_in">memset</span>(f[u], <span class="number">0</span>, <span class="keyword">sizeof</span> f[u]);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=tot; j++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;lim; k++)</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;<span class="number">4</span>; h++)</div><div class="line">					f[u][tr[j].nxt[h]][k|tr[tr[j].nxt[h]].st]|=f[u^<span class="number">1</span>][j][k];</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=tot; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;lim; j++) <span class="keyword">if</span>(f[u][i][j])</div><div class="line">			ans=max(ans, Cal(j));</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,  &amp;m)!=EOF)</div><div class="line">	&#123;</div><div class="line">		rt=<span class="number">0</span>, tot=<span class="number">0</span>;</div><div class="line">		tr[rt].Init();</div><div class="line">		</div><div class="line">		<span class="keyword">char</span> s[maxn];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s%d"</span>, s, &amp;val[i]);</div><div class="line">			Insert(rt, i, s);</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		Build(rt);</div><div class="line">		</div><div class="line">		<span class="keyword">int</span> ans=Work();</div><div class="line">		ans&lt;<span class="number">0</span> ? <span class="built_in">printf</span>(<span class="string">"No Rabbit after 2012!\n"</span>) : <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2017 Multi-University Training Contest 5  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šnä¸ª01æ¨¡å¼ä¸²ï¼Œæ±‚ä¸€ä¸ªé•¿åº¦ä¸º2Lã€è¦†ç›–å…¨éƒ¨æ¨¡å¼ä¸²çš„åå¯¹ç§°(å¯¹äºä»»æ„xï¼Œæ¯ä¸€ä¸ªå¯¹ç§°ä½ç½®éƒ½ä¸åŒ)ä¸»ä¸²çš„ä¸ªæ•°ã€‚  &lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=4057&quot;&gt;- åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="ACè‡ªåŠ¨æœº" scheme="http://thea-r.github.io/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/"/>
    
      <category term="2017å¤šæ ¡" scheme="http://thea-r.github.io/tags/2017%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
  <entry>
    <title>HDU4057 Rescue the Rabbit</title>
    <link href="http://thea-r.github.io/2017/08/08/HDU4057-Rescue-the-Rabbit/"/>
    <id>http://thea-r.github.io/2017/08/08/HDU4057-Rescue-the-Rabbit/</id>
    <published>2017-08-08T12:00:47.000Z</published>
    <updated>2018-07-01T09:53:26.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2011 ACM/ICPC å¤§è¿èµ›åŒºç°åœºèµ›  </p>
<p>ã€€ã€€é¢˜æ„ï¼šç»™å®šnä¸ªæ¨¡å¼ä¸²åŠå…¶æƒå€¼ï¼Œåœ¨ä¸»ä¸²ä¸­å¯è¦†ç›–ä¸”æ¯ä¸ªä¸²åªè®¡ç®—ä¸€æ¬¡ï¼Œæ±‚ä¸€ä¸ªé•¿åº¦ä¸ºLçš„ä¸»ä¸²çš„æœ€å¤§æƒå€¼å’Œã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4057" target="_blank" rel="external">- åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€æœ€å¼€å§‹ç›´æ¥DPæ±‚æƒå€¼å’Œï¼Œæ”»å‡»æ—¶æŸäº›åœ°æ–¹å§¿åŠ¿æœ‰é—®é¢˜ï¼Œä¸€ç›´wa= =ã€‚åæ¥çœ‹ç½‘ä¸Šçš„æŠ¥å‘Šï¼Œç”¨f[i][j][k]è¡¨ç¤ºé•¿åº¦ä¸ºiç›®å‰åœ¨èŠ‚ç‚¹jä¸”è¦†ç›–çŠ¶æ€ä¸ºkçš„å¯è¡Œæ€§ï¼Œæœ€åè®¡ç®—æ‰€æœ‰å¯è¡Œæ–¹æ¡ˆçš„æƒå€¼å’Œå–maxã€‚</p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1024</span>+<span class="number">10</span>, DEF=<span class="number">0x8f8f8f8f</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, m, rt, tot, val[maxn];</div><div class="line"><span class="keyword">bool</span> f[<span class="number">2</span>][maxn][maxn];</div><div class="line"><span class="keyword">struct</span> node</div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> nxt[<span class="number">4</span>], fail, st;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">()</span></div><div class="line">	</span>&#123;</div><div class="line">		fail=st=<span class="number">0</span>;</div><div class="line">		<span class="built_in">memset</span>(nxt, <span class="number">0</span>, <span class="keyword">sizeof</span> nxt);</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line">&#125;tr[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">getch</span><span class="params">(<span class="keyword">char</span> c)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(c==<span class="string">'A'</span>)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span>(c==<span class="string">'T'</span>)	<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	<span class="keyword">if</span>(c==<span class="string">'G'</span>)	<span class="keyword">return</span> <span class="number">2</span>;</div><div class="line">	<span class="keyword">return</span> <span class="number">3</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">int</span> rt, <span class="keyword">int</span> k, <span class="keyword">char</span> *ch)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>, len=<span class="built_in">strlen</span>(ch), cur; i&lt;len; i++)</div><div class="line">	&#123;</div><div class="line">		cur=getch(ch[i]);</div><div class="line">		<span class="keyword">if</span>(!tr[rt].nxt[cur])</div><div class="line">		&#123;</div><div class="line">			tr[++tot].Init();</div><div class="line">			tr[rt].nxt[cur]=tot;</div><div class="line">		&#125;</div><div class="line">		rt=tr[rt].nxt[cur];</div><div class="line">	&#125;</div><div class="line">	tr[rt].st|=(<span class="number">1</span>&lt;&lt;k);</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Build</span><span class="params">(<span class="keyword">int</span> rt)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</div><div class="line">	q.push(rt);</div><div class="line">	<span class="keyword">while</span>(!q.empty())</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> now=q.front(), p=<span class="number">0</span>;</div><div class="line">		q.pop();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(!tr[now].nxt[i])	tr[now].nxt[i]=tr[tr[now].fail].nxt[i];</div><div class="line">			<span class="keyword">else</span></div><div class="line">			&#123;</div><div class="line">				p=tr[now].nxt[i];</div><div class="line">				q.push(p);</div><div class="line">				<span class="keyword">if</span>(now)	tr[p].fail=tr[tr[now].fail].nxt[i];</div><div class="line">				tr[p].st|=tr[tr[p].fail].st;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Cal</span><span class="params">(<span class="keyword">int</span> st)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">int</span> cnt=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++) <span class="keyword">if</span>(st&amp;(<span class="number">1</span>&lt;&lt;i))	cnt+=val[i];</div><div class="line">	<span class="keyword">return</span> cnt;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Work</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);</div><div class="line">	f[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line">	</div><div class="line">	<span class="keyword">int</span> lim=<span class="number">1</span>&lt;&lt;n, u=<span class="number">0</span>, ans=DEF;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)</div><div class="line">	&#123;</div><div class="line">		u^=<span class="number">1</span>;</div><div class="line">		<span class="built_in">memset</span>(f[u], <span class="number">0</span>, <span class="keyword">sizeof</span> f[u]);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=tot; j++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;lim; k++)</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;<span class="number">4</span>; h++)</div><div class="line">					f[u][tr[j].nxt[h]][k|tr[tr[j].nxt[h]].st]|=f[u^<span class="number">1</span>][j][k];</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=tot; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;lim; j++) <span class="keyword">if</span>(f[u][i][j])</div><div class="line">			ans=max(ans, Cal(j));</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n,  &amp;m)!=EOF)</div><div class="line">	&#123;</div><div class="line">		rt=<span class="number">0</span>, tot=<span class="number">0</span>;</div><div class="line">		tr[rt].Init();</div><div class="line">		</div><div class="line">		<span class="keyword">char</span> s[maxn];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%s%d"</span>, s, &amp;val[i]);</div><div class="line">			Insert(rt, i, s);</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		Build(rt);</div><div class="line">		</div><div class="line">		<span class="keyword">int</span> ans=Work();</div><div class="line">		ans&lt;<span class="number">0</span> ? <span class="built_in">printf</span>(<span class="string">"No Rabbit after 2012!\n"</span>) : <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2011 ACM/ICPC å¤§è¿èµ›åŒºç°åœºèµ›  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šnä¸ªæ¨¡å¼ä¸²åŠå…¶æƒå€¼ï¼Œåœ¨ä¸»ä¸²ä¸­å¯è¦†ç›–ä¸”æ¯ä¸ªä¸²åªè®¡ç®—ä¸€æ¬¡ï¼Œæ±‚ä¸€ä¸ªé•¿åº¦ä¸ºLçš„ä¸»ä¸²çš„æœ€å¤§æƒå€¼å’Œã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=4057&quot;&gt;- åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="2011å¤§è¿" scheme="http://thea-r.github.io/tags/2011%E5%A4%A7%E8%BF%9E/"/>
    
      <category term="ACè‡ªåŠ¨æœº" scheme="http://thea-r.github.io/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>HDU3709 Balanced Number</title>
    <link href="http://thea-r.github.io/2017/08/08/HDU3709-Balanced-Number/"/>
    <id>http://thea-r.github.io/2017/08/08/HDU3709-Balanced-Number/</id>
    <published>2017-08-08T12:00:33.000Z</published>
    <updated>2018-07-01T09:53:30.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2010 ACM/ICPC æˆéƒ½èµ›åŒºç°åœºèµ›  </p>
<p>ã€€ã€€é¢˜æ„ï¼šè‹¥é€‰å®šä¸€ä¸ªæ•°çš„ç¬¬iä½ä½œä¸ºæ”¯ç‚¹ï¼Œå°†æ•°åˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼Œä»¤ç¬¬jä¸ªä½ç½®çš„ä»·å€¼ä¸ºd[j]*abs(j-i)ï¼Œè‹¥å·¦å³ä¸¤è¾¹çš„ä»·å€¼å’Œç›¸ç­‰ï¼Œåˆ™è¯¥æ•°ä¸ºå¹³è¡¡æ•°ã€‚å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºè¯¥åŒºé—´å†…å¹³è¡¡æ•°çš„ä¸ªæ•°ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=3709" target="_blank" rel="external">- åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€å¸¸è§„çš„æ•°ä½DPé¢˜ï¼Œæœ€å¼€å§‹waåœ¨ç›´æ¥return f[pos][st]è¿™ä¸ªåœ°æ–¹ï¼Œå› ä¸ºlimitçš„å–å€¼å¯¹åŒä¸€ç»„poså’Œstæ˜¯æœ‰å½±å“çš„ï¼Œå¯ä»¥ç›´æ¥åœ¨fä¸­åŠ ä¸Šlimitè¿™ä¸€ç»´ï¼Œä¹Ÿå¯ä»¥æ ¹æ®limitå–å€¼ç‰¹æ®Šåˆ¤æ–­ã€‚</p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">20</span>+<span class="number">5</span>, S=<span class="number">1500</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> lint;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, n, upnum[N];</div><div class="line">lint x, y, f[N][S];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">(lint num)</span></div><div class="line"></span>&#123;</div><div class="line">	n=<span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>(num)</div><div class="line">	&#123;</div><div class="line">		upnum[++n]=num%<span class="number">10</span>;</div><div class="line">		num/=<span class="number">10l</span>l;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">lint <span class="title">DP</span><span class="params">(<span class="keyword">int</span> pos, <span class="keyword">int</span> st, <span class="keyword">int</span> pt, <span class="keyword">bool</span> limit)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(pos==<span class="number">0</span>)	<span class="keyword">return</span> f[pos][st]=(st==<span class="number">0</span>);</div><div class="line">	<span class="keyword">if</span>(!limit &amp;&amp; f[pos][st]!=<span class="number">-1</span>)	<span class="keyword">return</span> f[pos][st];</div><div class="line"></div><div class="line">	lint ans=<span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> up= limit ? upnum[pos] : <span class="number">9</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=up; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(pos&gt;=pt)	ans+=DP(pos<span class="number">-1</span>, st+i*(pos-pt), pt, (limit &amp;&amp; i==upnum[pos]));</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(st-i*(pt-pos)&gt;=<span class="number">0</span>)	ans+=DP(pos<span class="number">-1</span>, st-i*(pt-pos), pt, (limit &amp;&amp; i==upnum[pos]));</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span>(!limit)	f[pos][st]=ans;</div><div class="line">	<span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">lint <span class="title">Work</span><span class="params">(lint num)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(num&lt;<span class="number">10</span>)	<span class="keyword">return</span> num+<span class="number">1</span>;</div><div class="line"></div><div class="line">	Init(num);</div><div class="line"></div><div class="line">	lint ans=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">memset</span>(f, <span class="number">-1</span>, <span class="keyword">sizeof</span> f);</div><div class="line">		ans+=DP(n, <span class="number">0</span>, i, <span class="literal">true</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ans-n+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">	<span class="keyword">int</span> tt=<span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>(T--)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>, &amp;x, &amp;y);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, Work(y)-Work(x<span class="number">-1</span>));</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2010 ACM/ICPC æˆéƒ½èµ›åŒºç°åœºèµ›  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šè‹¥é€‰å®šä¸€ä¸ªæ•°çš„ç¬¬iä½ä½œä¸ºæ”¯ç‚¹ï¼Œå°†æ•°åˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼Œä»¤ç¬¬jä¸ªä½ç½®çš„ä»·å€¼ä¸ºd[j]*abs(j-i)ï¼Œè‹¥å·¦å³ä¸¤è¾¹çš„ä»·å€¼å’Œç›¸ç­‰ï¼Œåˆ™è¯¥æ•°ä¸ºå¹³è¡¡æ•°ã€‚å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºè¯¥åŒºé—´å†…å¹³è¡¡æ•°çš„ä¸ªæ•°ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=3709&quot;&gt;- åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="2010æˆéƒ½" scheme="http://thea-r.github.io/tags/2010%E6%88%90%E9%83%BD/"/>
    
      <category term="æ•°ä½DP" scheme="http://thea-r.github.io/tags/%E6%95%B0%E4%BD%8DDP/"/>
    
  </entry>
  
  <entry>
    <title>HDU4427 Math Magic</title>
    <link href="http://thea-r.github.io/2017/08/08/HDU4427-Math-Magic/"/>
    <id>http://thea-r.github.io/2017/08/08/HDU4427-Math-Magic/</id>
    <published>2017-08-08T11:58:36.000Z</published>
    <updated>2018-07-01T09:53:22.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2012 ACM/ICPC é•¿æ˜¥èµ›åŒºç°åœºèµ›  </p>
<p>ã€€ã€€é¢˜æ„ï¼šæ±‚é€‰å®škä¸ªæ•°ï¼Œä½¿å¾—è¿™kä¸ªæ•°çš„å’Œä¸ºnã€æœ€å°å…¬å€æ•°ä¸ºmçš„æ–¹æ¡ˆæ•°ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4427" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€åˆæ­¥æƒ³æ³•æ˜¯ç”¨f[i][j][k]è¡¨ç¤ºiä¸ªæ•°çš„å’Œä¸ºjä¸”æœ€å°å…¬å€æ•°ä¸ºkçš„æ–¹æ¡ˆæ•°ï¼Œä½†æ—¶é—´å¤æ‚åº¦è¿‡å¤§ï¼Œè€ƒè™‘å¦‚ä½•ä¼˜åŒ–ï¼Œè¿™é‡Œå°±è¦orzæˆ‘é˜Ÿçš„DPå¤§ä½¬å¤©ç¥äº†ã€‚  </p>
<p>ã€€ã€€é¦–å…ˆæˆ‘ä»¬æœ‰ä¸€ä¸ªå¾ˆæ˜¾ç„¶çš„æ•°å­¦ç»“è®ºï¼Œå¦‚æœè‹¥å¹²æ•°çš„æœ€å°å…¬å€æ•°æ˜¯kï¼Œåˆ™å®ƒä»¬æ¯ä¸ªæ•°éƒ½æ˜¯kçš„çº¦æ•°ã€‚æ‰“è¡¨ä¸éš¾å‘ç°ï¼Œ1000ä»¥å†…çš„æ•°çº¦æ•°ä¸ªæ•°æ˜¯å¾ˆå°‘çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹f[i][j][k]çš„å®šä¹‰ä¸ºiä¸ªæ•°çš„å’Œä¸ºjä¸”æœ€å°å…¬å€æ•°æ˜¯ç¬¬kä¸ªçº¦æ•°çš„æ–¹æ¡ˆæ•°ï¼Œå°±èƒ½æœ‰æ•ˆåœ°é™ä½æ—¶é—´å¤æ‚åº¦ã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span>  </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span>  </span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1000</span>+<span class="number">10</span>, N=<span class="number">35</span>, mod=(<span class="number">1e9</span>)+<span class="number">7</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, m, k, p, f[<span class="number">100</span>+<span class="number">10</span>][maxn][N];</div><div class="line"><span class="keyword">int</span> lcm[maxn][maxn], val[N], pos[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;maxn; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;maxn; j++)</div><div class="line">			lcm[i][j]=i*j/<span class="number">__</span>gcd(i, j);</div><div class="line"></div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n, &amp;m, &amp;k)!=EOF)</div><div class="line">	&#123;</div><div class="line">		p=<span class="number">0</span>;</div><div class="line">		<span class="built_in">memset</span>(val, <span class="number">0</span>, <span class="keyword">sizeof</span> val);</div><div class="line">		<span class="built_in">memset</span>(pos, <span class="number">0</span>, <span class="keyword">sizeof</span> pos);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)	<span class="keyword">if</span>(m%i==<span class="number">0</span>) val[++p]=i, pos[i]=p;</div><div class="line">		</div><div class="line">		<span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);</div><div class="line">		f[<span class="number">0</span>][<span class="number">0</span>][<span class="number">1</span>]=<span class="number">1</span>;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=k; i++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=i<span class="number">-1</span>; j&lt;=n; j++)</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">1</span>; x&lt;=p; x++)</div><div class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">1</span>; y&lt;=p &amp;&amp; j+val[y]&lt;=n; y++)</div><div class="line">					&#123;</div><div class="line">						<span class="keyword">int</span> <span class="number">_l</span>cm=lcm[val[x]][val[y]];</div><div class="line">						<span class="keyword">if</span>(<span class="number">_l</span>cm&lt;=m &amp;&amp; pos[<span class="number">_l</span>cm])	f[i][j+val[y]][pos[<span class="number">_l</span>cm]]=(f[i][j+val[y]][pos[<span class="number">_l</span>cm]]+f[i<span class="number">-1</span>][j][x])%mod;</div><div class="line">					&#125;</div><div class="line"></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, f[k][n][pos[m]]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2012 ACM/ICPC é•¿æ˜¥èµ›åŒºç°åœºèµ›  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šæ±‚é€‰å®škä¸ªæ•°ï¼Œä½¿å¾—è¿™kä¸ªæ•°çš„å’Œä¸ºnã€æœ€å°å…¬å€æ•°ä¸ºmçš„æ–¹æ¡ˆæ•°ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=4427&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="2012é•¿æ˜¥" scheme="http://thea-r.github.io/tags/2012%E9%95%BF%E6%98%A5/"/>
    
  </entry>
  
  <entry>
    <title>HDU4796 Winter&#39;s Coming</title>
    <link href="http://thea-r.github.io/2017/08/08/HDU4796-Winter-s-Coming/"/>
    <id>http://thea-r.github.io/2017/08/08/HDU4796-Winter-s-Coming/</id>
    <published>2017-08-08T11:55:46.000Z</published>
    <updated>2018-07-01T09:53:15.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2013 ACM/ICPC é•¿æ²™èµ›åŒºç°åœºèµ›  </p>
<p>ã€€ã€€é¢˜æ„ï¼šn*mçš„åœ°å›¾ï¼Œç»•è¿‡éšœç¢ç‚¹å»ºå¢™ï¼Œä½¿å¾—Wåœ¨å¢™çš„å·¦è¾¹ï¼ŒLåœ¨å¼ºçš„å³è¾¹ï¼Œæ±‚æœ€å°èŠ±è´¹ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4796" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a>   </p>
<a id="more"></a>  
<p>ã€€ã€€å¾ˆæ˜æ˜¾çš„æ’å¤´DPï¼Œé—®é¢˜åœ¨äºå¦‚ä½•è§£å†³Wã€Læ ¼å­çš„å·¦å³é—®é¢˜å‘¢ï¼Ÿå…¶å®ç”»ç”»å›¾ä¸éš¾å¾—åˆ°è§„å¾‹ï¼Œå¯¹äºæ¯ä¸€ä¸ªWã€Læ ¼å­ï¼Œè‹¥è½®å»“çº¿å·¦è¾¹çš„æ’å¤´æ•°ä¸ºå¶æ•°ï¼Œåˆ™åœ¨å¢™çš„å·¦è¾¹ï¼Œå¦åˆ™åœ¨å¢™çš„å³è¾¹ï¼ˆæ¯ç©¿ä¸€æ¬¡å¢™å¢åŠ æ’å¤´æ•°ï¼‰ã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">20</span>+<span class="number">5</span>, <span class="number">_</span>hash=<span class="number">10007</span>, maxn=<span class="number">1000000</span>+<span class="number">10</span>, INF=<span class="number">0x7f7f7f7f</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> lint;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, m, code[N], ch[N], mmp[N][N];</div><div class="line"><span class="keyword">char</span> s[N];</div><div class="line"><span class="keyword">struct</span> hashmap</div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> cur, fir[<span class="number">_</span>hash], nxt[maxn], f[maxn];</div><div class="line">	lint st[maxn];</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></div><div class="line">	</span>&#123;</div><div class="line">		cur=<span class="number">0</span>;</div><div class="line">		<span class="built_in">memset</span>(fir, <span class="number">0</span>, <span class="keyword">sizeof</span> fir);</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">(lint s, <span class="keyword">int</span> ans)</span></div><div class="line">	</span>&#123;</div><div class="line">		<span class="keyword">int</span> u=s%<span class="number">_</span>hash;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=fir[u]; i; i=nxt[i])	<span class="keyword">if</span>(st[i]==s)</div><div class="line">		&#123;</div><div class="line">			f[i]=min(f[i], ans);</div><div class="line">			<span class="keyword">return</span> ;</div><div class="line">		&#125;</div><div class="line">		nxt[++cur]=fir[u], fir[u]=cur, st[cur]=s, f[cur]=ans;</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line">&#125;p[<span class="number">2</span>];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Read</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(mmp, <span class="number">-1</span>, <span class="keyword">sizeof</span> mmp);</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s+<span class="number">1</span>);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m; j++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(s[j]==<span class="string">'#'</span>)	mmp[i][j]=<span class="number">-1</span>;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(s[j]==<span class="string">'W'</span>)	mmp[i][j]=<span class="number">-2</span>;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(s[j]==<span class="string">'L'</span>)	mmp[i][j]=<span class="number">-3</span>;</div><div class="line">			<span class="keyword">else</span> mmp[i][j]=s[j]-<span class="string">'0'</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Decode</span><span class="params">(lint st)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=m; i&gt;=<span class="number">0</span>; i--)</div><div class="line">	&#123;</div><div class="line">		code[i]=st&amp;<span class="number">7</span>;</div><div class="line">		st&gt;&gt;=<span class="number">3</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function">lint <span class="title">Encode</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	lint st=<span class="number">0</span>;</div><div class="line">	<span class="built_in">memset</span>(ch, <span class="number">-1</span>, <span class="keyword">sizeof</span> ch);</div><div class="line">	ch[<span class="number">0</span>]=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>, cnt=<span class="number">0</span>; i&lt;=m; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(ch[code[i]]==<span class="number">-1</span>)	ch[code[i]]=++cnt;</div><div class="line">		code[i]=ch[code[i]];</div><div class="line">		st&lt;&lt;=<span class="number">3</span>;</div><div class="line">		st|=code[i];</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> st;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Shift</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=m; i; i--)	code[i]=code[i<span class="number">-1</span>];</div><div class="line">	code[<span class="number">0</span>]=<span class="number">0</span>;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">DP_blank</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> u)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">int</span> val=mmp[i][j], left, up, t, cnt;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>; k&lt;=p[u].cur; k++)</div><div class="line">	&#123;</div><div class="line">		Decode(p[u].st[k]);</div><div class="line"></div><div class="line">		left=code[j<span class="number">-1</span>], up=code[j];</div><div class="line">		<span class="keyword">if</span>(left &amp;&amp; up)</div><div class="line">		&#123;</div><div class="line">			<span class="comment">//left==upæ—¶åˆå¹¶ä¼šå½¢æˆç¯</span></div><div class="line">			<span class="keyword">if</span>(left!=up)</div><div class="line">			&#123;</div><div class="line">				code[j<span class="number">-1</span>]=code[j]=<span class="number">0</span>;</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;=m; h++)	<span class="keyword">if</span>(code[h]==up)	code[h]=left;	<span class="comment">//åˆå¹¶ä¸¤æ¡ä¸åŒçš„çº¿ï¼Œæ”¹å˜å³æ’å¤´ç¼–å·</span></div><div class="line">				<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">				p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]+val);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(left || up)</div><div class="line">		&#123;</div><div class="line">			t=(left ? left : up);</div><div class="line"></div><div class="line">			<span class="keyword">if</span>(i==n)<span class="comment">//æœ€åä¸€è¡Œ</span></div><div class="line">			&#123;</div><div class="line">				cnt=<span class="number">0</span>;</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;j<span class="number">-1</span>; h++) <span class="keyword">if</span>(code[h])	++cnt;</div><div class="line">				<span class="keyword">if</span>(!cnt)</div><div class="line">				&#123;</div><div class="line">					code[j<span class="number">-1</span>]=t, code[j]=<span class="number">0</span>;</div><div class="line">					<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">					p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]+val);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(mmp[i+<span class="number">1</span>][j]&gt;=<span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				code[j<span class="number">-1</span>]=t, code[j]=<span class="number">0</span>;</div><div class="line">				<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">				p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]+val);</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="keyword">if</span>(mmp[i][j+<span class="number">1</span>]&gt;=<span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				code[j<span class="number">-1</span>]=<span class="number">0</span>, code[j]=t;</div><div class="line">				<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">				p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]+val);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span></div><div class="line">		&#123;</div><div class="line">			code[j<span class="number">-1</span>]=code[j]=<span class="number">0</span>;</div><div class="line">			<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">			p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]);</div><div class="line"></div><div class="line">			<span class="keyword">if</span>(i==n)</div><div class="line">			&#123;</div><div class="line">				cnt=<span class="number">0</span>;</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;j<span class="number">-1</span>; h++) <span class="keyword">if</span>(code[h])	++cnt;</div><div class="line">				<span class="keyword">if</span>(cnt==<span class="number">0</span> &amp;&amp; mmp[i][j+<span class="number">1</span>]&gt;=<span class="number">0</span>)</div><div class="line">				&#123;</div><div class="line">					code[j<span class="number">-1</span>]=code[j]=<span class="number">13</span>;</div><div class="line">					<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">					p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]+val);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(mmp[i][j+<span class="number">1</span>]&gt;=<span class="number">0</span> &amp;&amp; mmp[i+<span class="number">1</span>][j]&gt;=<span class="number">0</span>)</div><div class="line">			&#123;</div><div class="line">				code[j<span class="number">-1</span>]=code[j]=<span class="number">13</span>;</div><div class="line">				<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">				p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]+val);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">DP_block</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> u)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>, cnt; k&lt;=p[u].cur; k++)</div><div class="line">	&#123;</div><div class="line">		Decode(p[u].st[k]);</div><div class="line">		<span class="keyword">if</span>(code[j<span class="number">-1</span>] || code[j])	<span class="keyword">continue</span>;</div><div class="line"></div><div class="line">		cnt=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> h=<span class="number">0</span>; h&lt;j<span class="number">-1</span>; h++)	<span class="keyword">if</span>(code[h])	++cnt;</div><div class="line">		</div><div class="line">		<span class="keyword">if</span>(mmp[i][j]==<span class="number">-2</span> &amp;&amp; (cnt&amp;<span class="number">1</span>))	<span class="keyword">continue</span>;</div><div class="line">		<span class="keyword">if</span>(mmp[i][j]==<span class="number">-3</span> &amp;&amp; !(cnt&amp;<span class="number">1</span>))	<span class="keyword">continue</span>;</div><div class="line"></div><div class="line">		code[j<span class="number">-1</span>]=code[j]=<span class="number">0</span>;</div><div class="line">		<span class="keyword">if</span>(j==m)	Shift();</div><div class="line">		p[u^<span class="number">1</span>].push(Encode(), p[u].f[k]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Work</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">int</span> u=<span class="number">0</span>, ans=INF;</div><div class="line">	</div><div class="line">	p[u].clear();	</div><div class="line">	<span class="built_in">memset</span>(code, <span class="number">0</span>, <span class="keyword">sizeof</span> code);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++) <span class="keyword">if</span>(mmp[<span class="number">1</span>][i]&gt;=<span class="number">0</span>)</div><div class="line">	&#123;</div><div class="line">		code[i]=<span class="number">1</span>;</div><div class="line">		p[u].push(Encode(), <span class="number">0</span>);</div><div class="line">		code[i]=<span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m; j++)</div><div class="line">		&#123;</div><div class="line">			p[u^<span class="number">1</span>].clear();</div><div class="line">			<span class="keyword">if</span>(mmp[i][j]&gt;=<span class="number">0</span>)	DP_blank(i, j, u);</div><div class="line">			<span class="keyword">else</span> DP_block(i, j, u);</div><div class="line">			u^=<span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>, cnt=<span class="number">0</span>; i&lt;=p[u].cur; i++)</div><div class="line">	&#123;</div><div class="line">		Decode(p[u].st[i]);</div><div class="line">		cnt=<span class="number">0</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m; j++)	<span class="keyword">if</span>(code[j])	++cnt;</div><div class="line">		<span class="keyword">if</span>(cnt==<span class="number">1</span>)	ans=min(ans, p[u].f[i]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> (ans==INF) ? <span class="number">-1</span> : ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m) != EOF)</div><div class="line">	&#123;</div><div class="line">		Read();</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, Work());</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2013 ACM/ICPC é•¿æ²™èµ›åŒºç°åœºèµ›  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šn*mçš„åœ°å›¾ï¼Œç»•è¿‡éšœç¢ç‚¹å»ºå¢™ï¼Œä½¿å¾—Wåœ¨å¢™çš„å·¦è¾¹ï¼ŒLåœ¨å¼ºçš„å³è¾¹ï¼Œæ±‚æœ€å°èŠ±è´¹ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=4796&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;   &lt;/p&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="2013é•¿æ²™" scheme="http://thea-r.github.io/tags/2013%E9%95%BF%E6%B2%99/"/>
    
      <category term="æ’å¤´DP" scheme="http://thea-r.github.io/tags/%E6%8F%92%E5%A4%B4DP/"/>
    
  </entry>
  
  <entry>
    <title>CF833B The Bakery</title>
    <link href="http://thea-r.github.io/2017/08/08/CF833B-The-Bakery/"/>
    <id>http://thea-r.github.io/2017/08/08/CF833B-The-Bakery/</id>
    <published>2017-08-08T01:59:55.000Z</published>
    <updated>2018-07-01T09:53:40.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€é¢˜æ„ï¼šæŠŠnä¸ªæ•°åˆ†æˆkä¸ªåŒºé—´ï¼Œæ¯ä¸ªåŒºé—´çš„ä»·å€¼ä¸ºåŒºé—´å†…ä¸åŒæ•°å­—çš„ä¸ªæ•°ï¼Œé—®ä»·å€¼å’Œæœ€å¤§ä¸ºå¤šå°‘ã€‚<a href="http://codeforces.com/problemset/problem/833/B" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a>   </p>
<a id="more"></a>  
<p>ã€€ã€€ç¥å¥‡çš„çº¿æ®µæ ‘â€¦ å…ˆç¢°åˆ°å¤šæ ¡é‚£åœºdirt ratioå†æ¥åšçš„è¿™é“DPï¼ŒåŸæ¥è¿™å·²ç»æ˜¯ä¸ªå¸¸ï¼ˆä¸ï¼‰è§„ï¼ˆä¼šï¼‰å¥—è·¯äº†ğŸ˜•ã€‚  </p>
<p>ã€€ã€€é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨f[i][j]è¡¨ç¤ºå‰jä¸ªæ•°åˆ†æˆiä¸ªåŒºé—´çš„æœ€å¤§ä»·å€¼å’Œï¼Œåˆ™æœ‰è½¬ç§»æ–¹ç¨‹ï¼š  </p>
<script type="math/tex; mode=display">
f[i][j]=max(f[i-1][x]+value[x+1, j])</script><p>ã€€ã€€æ˜¾ç„¶ï¼Œå¦‚æœç”¨æš´åŠ›æ–¹æ³•è½¬ç§»ï¼Œå¤æ‚åº¦ä¸ºO(kn^2)ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤valueã€‚  </p>
<p>ã€€ã€€ç”¨è¾…åŠ©æ•°ç»„pos[a[j]]è¡¨ç¤ºa[j]æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œpre[j]è¡¨ç¤ºa[j]ä¸Šä¸€æ¬¡å‡ºç°ä½ç½®çš„ä¸‹ä¸€ä½ã€‚åœ¨å‰i-1ä¸ªåŒºé—´å·²ç»æ±‚å‡ºçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è€ƒè™‘ç¬¬iå±‚ï¼Œå‡è®¾å½“å‰æšä¸¾åˆ°a[j]ï¼Œå¦‚æœä»pre[j]åˆ°jè¿™æ®µåŒºé—´ä»»é€‰ä¸€ä¸ªèµ·ç‚¹xï¼Œåˆ™[x, j]è¿™æ®µåŒºé—´éƒ½åªä¼šæœ‰ä¸€ä¸ªa[j]ã€‚æˆ‘ä»¬ç”¨æ•°ç»„p[y]è¡¨ç¤ºä»¥p[y]ä¸ºå·¦ç«¯ç‚¹çš„åŒºé—´çš„ä¸åŒæ•°çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆa[j]çš„è´¡çŒ®å°±æ˜¯ä»¤p[pre[j]~j]åŒºé—´æ•´ä½“+1ã€‚è‹¥å°†æ•°ç»„p[y]åˆå§‹ä¸ºf[i-1][y-1]ï¼Œåˆ™p[y]æœ€ç»ˆè¡¨ç¤ºçš„å°±æ˜¯f[i-1][y-1]+value[y, j]ï¼Œè½¬ç§»æ—¶åªéœ€è¦æŸ¥è¯¢p[1~j]çš„æœ€å¤§å€¼ï¼Œå¤æ‚åº¦ä¼˜åŒ–åˆ°O(nklogn)ã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line">#include&lt;iostream&gt;</div><div class="line">#include&lt;cstring&gt;</div><div class="line">#include&lt;cstdlib&gt;</div><div class="line">#include&lt;cstdio&gt;</div><div class="line">#include&lt;cmath&gt;</div><div class="line">#include&lt;algorithm&gt;</div><div class="line">#define kl (k&lt;&lt;1)</div><div class="line">#define kr ((k&lt;&lt;1)+1)</div><div class="line">#define mid ((l+r)&gt;&gt;1)</div><div class="line">using namespace std;</div><div class="line">const int maxn=35000+10, N=50+10;</div><div class="line"></div><div class="line">int n, k, a[maxn], f[N][maxn];</div><div class="line">int pre[maxn], pos[maxn];</div><div class="line">struct node</div><div class="line">&#123;</div><div class="line">	int ret, flag;</div><div class="line">&#125;tr[maxn&lt;&lt;2];</div><div class="line"></div><div class="line">void Push_down(int k)</div><div class="line">&#123;</div><div class="line">	tr[kl].ret+=tr[k].flag, tr[kl].flag+=tr[k].flag;</div><div class="line">	tr[kr].ret+=tr[k].flag, tr[kr].flag+=tr[k].flag;</div><div class="line">	tr[k].flag=0;</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Push_up(int k)</div><div class="line">&#123;</div><div class="line">	tr[k].ret=max(tr[kl].ret, tr[kr].ret);</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Build(int x, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">	tr[k].flag=0;</div><div class="line">	if(l==r)</div><div class="line">	&#123;</div><div class="line">		tr[k].ret=f[x][l-1];	//æ³¨æ„æ˜¯l-1</div><div class="line">		return ;</div><div class="line">	&#125;</div><div class="line">	Build(x, kl, l, mid);</div><div class="line">	Build(x, kr, mid+1, r);</div><div class="line">	Push_up(k);</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Update(int ll, int rr, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">	if(rr&lt; l || r &lt;ll)	return ;</div><div class="line">	if(ll&lt;=l &amp;&amp; r&lt;=rr)</div><div class="line">	&#123;</div><div class="line">		tr[k].ret++, tr[k].flag++;</div><div class="line">		return ;</div><div class="line">	&#125;</div><div class="line">	Push_down(k);</div><div class="line">	Update(ll, rr, kl, l, mid);</div><div class="line">	Update(ll, rr, kr, mid+1, r);</div><div class="line">	Push_up(k);</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int Query(int ll, int rr, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">	if(rr&lt; l || r &lt;ll)	return 0;</div><div class="line">	if(ll&lt;=l &amp;&amp; r&lt;=rr)	return tr[k].ret;</div><div class="line">	int tl=Query(ll, rr, kl, l, mid), tr=Query(ll, rr, kr, mid+1, r);</div><div class="line">	Push_up(k);</div><div class="line">	return max(tl, tr);</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()</div><div class="line">&#123;</div><div class="line">	while(scanf("%d%d", &amp;n, &amp;k)!=EOF)</div><div class="line">	&#123;</div><div class="line">		memset(pre, 0, sizeof pre);</div><div class="line">		memset(pos, 0, sizeof pos);</div><div class="line">		for(int i=1; i&lt;=n; i++)</div><div class="line">		&#123;</div><div class="line">			scanf("%d", &amp;a[i]);</div><div class="line">			pre[i]=pos[a[i]]+1;</div><div class="line">			pos[a[i]]=i;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		for(int i=1; i&lt;=k; i++)</div><div class="line">		&#123;</div><div class="line">			Build(i-1);</div><div class="line">			for(int j=1; j&lt;=n; j++)</div><div class="line">			&#123;</div><div class="line">				Update(pre[j], j);</div><div class="line">				f[i][j]=Query(1, j);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		printf("%d\n", f[k][n]);</div><div class="line">	&#125;</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€é¢˜æ„ï¼šæŠŠnä¸ªæ•°åˆ†æˆkä¸ªåŒºé—´ï¼Œæ¯ä¸ªåŒºé—´çš„ä»·å€¼ä¸ºåŒºé—´å†…ä¸åŒæ•°å­—çš„ä¸ªæ•°ï¼Œé—®ä»·å€¼å’Œæœ€å¤§ä¸ºå¤šå°‘ã€‚&lt;a href=&quot;http://codeforces.com/problemset/problem/833/B&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;   &lt;/p&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="CF" scheme="http://thea-r.github.io/tags/CF/"/>
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="çº¿æ®µæ ‘" scheme="http://thea-r.github.io/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>CF825F String Compression</title>
    <link href="http://thea-r.github.io/2017/08/08/CF825F-String-Compression/"/>
    <id>http://thea-r.github.io/2017/08/08/CF825F-String-Compression/</id>
    <published>2017-08-08T01:59:32.000Z</published>
    <updated>2018-07-01T09:53:44.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€é¢˜æ„ï¼šæŠŠä¸€ä¸ªå­—ç¬¦ä¸²å‹ç¼©æˆCiSiæ ¼å¼ï¼ˆä¾‹ï¼šhhhhhhhå‹ç¼©ä¸º7hï¼‰ï¼Œé—®å‹ç¼©åæœ€çŸ­é•¿åº¦æ˜¯å¤šå°‘ã€‚<a href="http://codeforces.com/problemset/problem/825/F" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a>   </p>
<a id="more"></a>  
<p>ã€€ã€€DPæ€è·¯å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬ä½¿ç”¨f[i]è¡¨ç¤ºå‹ç¼©å­—ç¬¦ä¸²å‰iä½çš„æœ€çŸ­é•¿åº¦ï¼Œè¾…åŠ©æ•°ç»„g[i][j]è¡¨ç¤ºå‹ç¼©s[i, j]çš„æœ€çŸ­é•¿åº¦ã€‚  </p>
<script type="math/tex; mode=display">
g[i][j]=
\begin{cases}
{1+(j-i+1)} & \text {æ²¡æœ‰å¾ªç¯èŠ‚}\\
{c[å¾ªç¯èŠ‚ä¸ªæ•°]+å¾ªç¯èŠ‚é•¿åº¦} & \text {æœ‰å¾ªç¯èŠ‚}\\
\end{cases}\\
f[i]=min(f[i], f[j]+g[j+1][i])</script><p>ã€€ã€€è¿™é“é¢˜æœ€å¤§çš„æ”¶è·æ˜¯å­¦åˆ°å…³äºsprintfçš„ç”¨æ³•ï¼Œå°†æ•°å­—iå†™è¿›è¶³å¤Ÿå¤§çš„charæ•°ç»„bufä¸­ï¼Œè¿”å›bufçš„é•¿åº¦ï¼š</p>
<script type="math/tex; mode=display">
c[i]=sprintf(buf, "\%d", i);</script><p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">8000</span>+<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, nx[maxn], c[maxn], f[maxn], g[maxn][maxn];</div><div class="line"><span class="keyword">char</span> s[maxn], buf[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">KMP</span><span class="params">(<span class="keyword">char</span> *ch, <span class="keyword">int</span> len)</span></div><div class="line"></span>&#123;</div><div class="line">	nx[<span class="number">1</span>]=<span class="number">0</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>, j=<span class="number">0</span>; i&lt;=len; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">while</span>(j &amp;&amp; ch[i]!=ch[j+<span class="number">1</span>])	j=nx[j];</div><div class="line">		<span class="keyword">if</span>(ch[i]==ch[j+<span class="number">1</span>])	++j;</div><div class="line">		nx[i]=j;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s+<span class="number">1</span>)!=EOF)</div><div class="line">	&#123;</div><div class="line">		n=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</div><div class="line"></div><div class="line">		<span class="built_in">memset</span>(g, <span class="number">0</span>, <span class="keyword">sizeof</span> g);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">		&#123;</div><div class="line">			c[i]=<span class="built_in">sprintf</span>(buf, <span class="string">"%d"</span>, i);</div><div class="line">			f[i]=i+<span class="number">1</span>;	<span class="comment">//æ¯ä¸ªå­—ç¬¦ä¸²Téƒ½èƒ½å‹ç¼©ä¸º1T</span></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">		&#123;</div><div class="line">			KMP(s+i<span class="number">-1</span>, n-i+<span class="number">1</span>);	<span class="comment">//ä¼ è¿›å»çš„æ˜¯s+i-1ï¼Œä¿è¯å‡½æ•°ä¸­åˆæ³•å­—ç¬¦ä¸²ä»ä¸‹æ ‡1å¼€å§‹è®¡æ•°</span></div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n-i+<span class="number">1</span>; j++)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">int</span> len=j-nx[j];</div><div class="line">				<span class="keyword">if</span>(j%len==<span class="number">0</span>)	g[i][i+j<span class="number">-1</span>]=c[j/len]+len;	<span class="comment">//å¾ªç¯æ¬¡æ•°+å¾ªç¯èŠ‚é•¿åº¦</span></div><div class="line">				<span class="keyword">else</span> g[i][i+j<span class="number">-1</span>]=<span class="number">1</span>+j;	<span class="comment">//ä¸å¾ªç¯</span></div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;i; j++)</div><div class="line">				f[i]=min(f[i], f[j]+g[j+<span class="number">1</span>][i]);</div><div class="line">		</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, f[n]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€é¢˜æ„ï¼šæŠŠä¸€ä¸ªå­—ç¬¦ä¸²å‹ç¼©æˆCiSiæ ¼å¼ï¼ˆä¾‹ï¼šhhhhhhhå‹ç¼©ä¸º7hï¼‰ï¼Œé—®å‹ç¼©åæœ€çŸ­é•¿åº¦æ˜¯å¤šå°‘ã€‚&lt;a href=&quot;http://codeforces.com/problemset/problem/825/F&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;   &lt;/p&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="CF" scheme="http://thea-r.github.io/tags/CF/"/>
    
      <category term="KMP" scheme="http://thea-r.github.io/tags/KMP/"/>
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
  </entry>
  
  <entry>
    <title>HDU6024 Innumerable Ancestors</title>
    <link href="http://thea-r.github.io/2017/06/25/HDU6024-Innumerable-Ancestors/"/>
    <id>http://thea-r.github.io/2017/06/25/HDU6024-Innumerable-Ancestors/</id>
    <published>2017-06-25T13:24:20.000Z</published>
    <updated>2018-07-01T09:53:52.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2017ä¸­å›½å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ› - å¥³ç”Ÿä¸“åœº  </p>
<p>ã€€ã€€é¢˜æ„ï¼šç»™å®šä¸€æ£µæ ‘ï¼Œæœ‰mæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºç‚¹é›†Xå’Œç‚¹é›†Yï¼Œåœ¨Xä¸­æ‰¾åˆ°ä¸€ç‚¹uï¼Œåœ¨Yä¸­æ‰¾åˆ°ä¸€ç‚¹vï¼Œä½¿å¾—dep(lca(u, v))æœ€å¤§ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6024" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a>   </p>
<a id="more"></a>  
<p>ã€€ã€€é˜Ÿå‹æä¾›çš„æ€è·¯ï¼Œå¹¶æœªä¸¥æ ¼è¯æ˜ï¼šå¯¹äºæ¯æ¬¡è¯¢é—®ï¼Œå°†ç‚¹é›†Yä¸­çš„ç‚¹æŒ‰dfsåºæ’åºï¼Œæšä¸¾ç‚¹é›†Xä¸­çš„ç‚¹uï¼ŒäºŒåˆ†ç‚¹é›†Yæ‰¾åˆ°å’Œç‚¹uçš„dfsåºæœ€è¿‘çš„ç‚¹vï¼Œæ±‚dep(lca(u, v))ã€‚  </p>
<p>ã€€ã€€å› ä¸ºcaseæ•°ä¸è¶…è¿‡5ï¼Œä¸”ä¿è¯æ¯ä¸ªcaseçš„âˆ‘kâ‰¤100000ï¼Œæ—¶é—´å¤æ‚åº¦å¹¶æ— å‹åŠ›ã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">400000</span>+<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, m, tot, rmq[maxn], P[maxn], F[maxn];</div><div class="line"><span class="keyword">int</span> cur, fir[maxn], nxt[maxn], ver[maxn];</div><div class="line"><span class="keyword">int</span> xk, yk, x[maxn], y[maxn];</div><div class="line"><span class="keyword">bool</span> vis[maxn];</div><div class="line"><span class="keyword">struct</span> ST</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> mm[maxn], dp[maxn][<span class="number">20</span>];</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></div><div class="line">    </span>&#123;</div><div class="line">        mm[<span class="number">0</span>]=<span class="number">-1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">        &#123;</div><div class="line">            mm[i]=((i&amp;(i<span class="number">-1</span>))==<span class="number">0</span>) ? mm[i<span class="number">-1</span>]+<span class="number">1</span> : mm[i<span class="number">-1</span>];</div><div class="line">            dp[i][<span class="number">0</span>]=i;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=mm[n]; j++)</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i+(<span class="number">1</span>&lt;&lt;j)<span class="number">-1</span>&lt;=n; i++)</div><div class="line">                dp[i][j]=rmq[dp[i][j<span class="number">-1</span>]] &lt; rmq[dp[i+(<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>]] ? dp[i][j<span class="number">-1</span>] : dp[i+(<span class="number">1</span>&lt;&lt;(j<span class="number">-1</span>))][j<span class="number">-1</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></div><div class="line">    </span>&#123;</div><div class="line">        <span class="keyword">if</span>(a&gt;b) swap(a, b);</div><div class="line">        <span class="keyword">int</span> k=mm[b-a+<span class="number">1</span>];</div><div class="line">        <span class="keyword">return</span> rmq[dp[a][k]] &lt;= rmq[dp[b-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k]] ? dp[a][k] : dp[b-(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k];</div><div class="line">    &#125;</div><div class="line">&#125;st;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></div><div class="line"></span>&#123;</div><div class="line">    ver[++cur]=v, nxt[cur]=fir[u], fir[u]=cur;</div><div class="line">    ver[++cur]=u, nxt[cur]=fir[v], fir[v]=cur;</div><div class="line">    <span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">return</span> rmq[st.query(P[u], P[v])];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">return</span> P[a]&lt;P[b];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Work</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>, cnt, u;</div><div class="line">	</div><div class="line">	sort(y, y+yk, cmp);</div><div class="line">    </div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;xk; i++)</div><div class="line">    &#123;</div><div class="line">		u=x[i];</div><div class="line">		cnt=lower_bound(y, y+yk, u, cmp)-y;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(cnt&lt;yk) ans=max(ans, query(x[i], y[cnt]));</div><div class="line">        <span class="keyword">if</span>(cnt&gt;<span class="number">0</span>)   ans=max(ans, query(x[i], y[cnt<span class="number">-1</span>]));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dfs</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> d)</span></div><div class="line"></span>&#123;</div><div class="line">    vis[u]=<span class="literal">true</span>;</div><div class="line">    F[++tot]=u;</div><div class="line">    rmq[tot]=d;</div><div class="line">    P[u]=tot;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=fir[u], v; i ; i=nxt[i])</div><div class="line">        <span class="keyword">if</span>(!vis[v=ver[i]])</div><div class="line">        &#123;</div><div class="line">            Dfs(v, d+<span class="number">1</span>);</div><div class="line">            F[++tot]=u;</div><div class="line">            rmq[tot]=d;</div><div class="line">        &#125;</div><div class="line">    <span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m)!=EOF)</div><div class="line">    &#123;</div><div class="line">        cur=<span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(fir, <span class="number">0</span>, <span class="keyword">sizeof</span> fir);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>, u, v; i&lt;n; i++)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</div><div class="line">            Add(u, v);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span> vis);</div><div class="line">        <span class="built_in">memset</span>(P, <span class="number">0</span>, <span class="keyword">sizeof</span> P);</div><div class="line">        <span class="built_in">memset</span>(F, <span class="number">0</span>, <span class="keyword">sizeof</span> F);</div><div class="line">        <span class="built_in">memset</span>(rmq, <span class="number">0</span>, <span class="keyword">sizeof</span> rmq);</div><div class="line">        tot=<span class="number">0</span>;</div><div class="line">        Dfs(<span class="number">1</span>, <span class="number">0</span>);</div><div class="line">        st.init(<span class="number">2</span>*n<span class="number">-1</span>);</div><div class="line">        </div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=m; i++)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;xk);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;xk; j++)	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x[j]);</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;yk);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;yk; j++)	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;y[j]);</div><div class="line"></div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, Work()+<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2017ä¸­å›½å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ› - å¥³ç”Ÿä¸“åœº  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šä¸€æ£µæ ‘ï¼Œæœ‰mæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™å‡ºç‚¹é›†Xå’Œç‚¹é›†Yï¼Œåœ¨Xä¸­æ‰¾åˆ°ä¸€ç‚¹uï¼Œåœ¨Yä¸­æ‰¾åˆ°ä¸€ç‚¹vï¼Œä½¿å¾—dep(lca(u, v))æœ€å¤§ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=6024&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;   &lt;/p&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2017å¥³ç”Ÿèµ›" scheme="http://thea-r.github.io/tags/2017%E5%A5%B3%E7%94%9F%E8%B5%9B/"/>
    
      <category term="LCA" scheme="http://thea-r.github.io/tags/LCA/"/>
    
      <category term="äºŒåˆ†" scheme="http://thea-r.github.io/tags/%E4%BA%8C%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>2017æš‘å‡é›†è®­è®°å½•ï¼ˆä¸€ï¼‰</title>
    <link href="http://thea-r.github.io/2017/06/25/2017%E6%9A%91%E5%81%87%E9%9B%86%E8%AE%AD%E8%AE%B0%E5%BD%95%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://thea-r.github.io/2017/06/25/2017æš‘å‡é›†è®­è®°å½•ï¼ˆä¸€ï¼‰/</id>
    <published>2017-06-25T11:05:33.000Z</published>
    <updated>2018-07-01T09:53:48.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€æš‘å‡é›†è®­ä¸ªäººæ—¥å¸¸ï¼ˆé˜¶æ®µä¸€ï¼‰ã€‚  </p>
<a id="more"></a>  
<p>ã€€ã€€  </p>
<hr>
<p>ã€€ã€€  </p>
<h1 id="day1-06-24"><a href="#day1-06-24" class="headerlink" title="day1 06.24"></a>day1 06.24</h1><ol>
<li><h3 id="TeamTrainingï¼š2013-Multi-University-Training-Contest-9-â€”-rank2"><a href="#TeamTrainingï¼š2013-Multi-University-Training-Contest-9-â€”-rank2" class="headerlink" title="TeamTrainingï¼š2013 Multi-University Training Contest 9 â€” rank2"></a><a href="http://icpc.njust.edu.cn/Contest/1097/" target="_blank" rel="external">TeamTrainingï¼š2013 Multi-University Training Contest 9 â€” rank2</a></h3><p><del>A    Arc of Dreamï¼ˆçŸ©é˜µå¿«é€Ÿå¹‚ï¼‰</del><br>B    Boke and Tsukkomiï¼ˆå¸¦èŠ±æ ‘ï¼‰<br><del><a href="https://thea-r.github.io/2017/06/24/HDU4688-Cut-the-Cake/">C    Cut the Cakeï¼ˆè®¡ç®—å‡ ä½• + DPï¼‰</a></del><br><del><a href="https://thea-r.github.io/2017/06/24/HDU4689-Derangement/">D    Derangementï¼ˆDPï¼‰</a></del><br><del>E    EBCDICï¼ˆæ¨¡æ‹Ÿï¼‰</del><br>F    Front compressionï¼ˆåç¼€æ•°ç»„ï¼‰<br>G    Great Sequenceï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰<br>H    Huge Stringï¼ˆDFSï¼‰<br>I    Important Sistersï¼ˆæ”¯é…æ ‘ï¼‰<br>J    Jumping Frogï¼ˆçº¿æ€§é€’æ¨ï¼‰</p>
</li>
<li><h3 id="Summarize"><a href="#Summarize" class="headerlink" title="Summarize"></a>Summarize</h3><p>   å¤§ä½¬é˜Ÿå‹å¤©ç¥çš„DPçœŸçš„æ˜¯å¼ºï¼Œæ€’æ‹¿Dé¢˜ä¸€è¡€ã€‚Messyè¿…é€Ÿæ¨å‡ºAé¢˜çŸ©é˜µï¼Œåªæ˜¯å…·ä½“å®ç°çš„æ—¶å€™æœ‰äº›å°bugäºæ˜¯ç‹‚waä¸æ­¢ï¼Œè¿™ä¸ªæ•…äº‹å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸ç®¡ä»€ä¹ˆæ—¶å€™ï¼Œè¯¥è†œå°±å¾—è†œå•Šã€‚ç„¶åæˆ‘å»æ•²Eé¢˜å¤§æ¨¡æ‹Ÿï¼Œçœ¼ç›éƒ½è¦çˆ†ç‚¸äº†ï¼Œè¿˜æ˜¯æœ‰ä¸¤ä¸ªåœ°æ–¹æ²¡åŒ¹é…ä¸Šwaäº†ä¸€æ¬¡ï¼Œæ‰€ä»¥è¿™ç§sbé¢˜submitä¹‹å‰è¿˜æ˜¯å¾—æ£€æŸ¥æ£€æŸ¥çš„å•Š= = æ¯”è¾ƒé—æ†¾çš„æ˜¯Fçš„åç¼€æ•°ç»„æ¨¡ç‰ˆé¢˜æ²¡äººèƒ½å†™ï¼Œä¸‰ä¸ªäººçš„ä¸“é¢˜è¦†ç›–è¿˜æ˜¯ä¸å¤Ÿã€‚  </p>
</li>
<li><h3 id="Chaos"><a href="#Chaos" class="headerlink" title="Chaos"></a>Chaos</h3><p>   ä¸€å¹´æ²¡æœ‰å†™åšå®¢ï¼Œé‡æ–°ç†Ÿæ‚‰äº†ä¸€æ³¢hexoçš„å„ç§æ“ä½œç„¶åå¤§æŠŠæ—¶é—´å°±è¿‡å»äº†â€¦ ä¸‹åˆç†è§£äº†å¥½ä¹…Dé¢˜çš„DPï¼Œæ™šä¸Šåˆæäº†å¥½ä¹…Cé¢˜çš„è®¡ç®—å‡ ä½•+DPï¼Œæœç„¶æˆ‘çš„DPå§¿åŠ¿è¿˜æ˜¯å¤ªå¼±äº†â€¦ è¿™åœºæ¯”èµ›çš„éš¾åº¦å•Šï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰è¡¥å¾—å®Œäº†â€¦ï¼ˆå—¯ï¼Œåå‘æ¯’å¥¶ä¸€å£ï¼‰  </p>
</li>
<li><h3 id="ToDoList"><a href="#ToDoList" class="headerlink" title="ToDoList"></a>ToDoList</h3><p> ã€‚    DPè®­ç»ƒ  </p>
<p> ã€‚    å­¦ä¹ åç¼€æ•°ç»„ï¼Œæ•´ç†æ¨¡ç‰ˆ  </p>
<p> â€‹</p>
</li>
</ol>
<h1 id="day2-06-25"><a href="#day2-06-25" class="headerlink" title="day2 06.25"></a>day2 06.25</h1><ol>
<li><h3 id="TeamTrainingï¼š2017ä¸­å›½å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›-å¥³ç”Ÿä¸“åœº-â€”-rank4"><a href="#TeamTrainingï¼š2017ä¸­å›½å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ›-å¥³ç”Ÿä¸“åœº-â€”-rank4" class="headerlink" title="TeamTrainingï¼š2017ä¸­å›½å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ› - å¥³ç”Ÿä¸“åœº â€” rank4"></a><a href="http://icpc.njust.edu.cn/Contest/1096/" target="_blank" rel="external">TeamTrainingï¼š2017ä¸­å›½å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«èµ› - å¥³ç”Ÿä¸“åœº â€” rank4</a></h3><p><del>A    Automatic Judgeï¼ˆæ¨¡æ‹Ÿï¼‰</del><br><del>B    Building Shopsï¼ˆDPï¼‰</del><br>C    Coprime Sequenceï¼ˆæ•°å­¦ï¼‰<br><del>D    Deleting Edgesï¼ˆæœ€çŸ­è·¯è®¡æ•°ï¼‰</del><br>E    Easy Summationï¼ˆæ•°å­¦ï¼‰<br>F    Forgivenessï¼ˆï¼Ÿï¼Ÿï¼Ÿï¼‰<br>G    Graph Theoryï¼ˆã€‚ã€‚ã€‚ï¼‰<br>H    Happy Necklaceï¼ˆçŸ©é˜µå¿«é€Ÿå¹‚ï¼‰<br><del><a href="https://thea-r.github.io/2017/06/25/HDU6024-Innumerable-Ancestors/">I    Innumerable Ancestorsï¼ˆLCA + äºŒåˆ†ï¼‰</a></del><br>J    Judicious Strategyï¼ˆåšå¼ˆï¼‰</p>
</li>
<li><h3 id="Summarize-1"><a href="#Summarize-1" class="headerlink" title="Summarize"></a>Summarize</h3><p>   å¼€åœºå°±ä¸Šå»æ•²äº†ä¸€å‘Aé¢˜ç­¾åˆ°1Aï¼Œç„¶åé˜Ÿå‹å°±åœ¨æˆ‘é¢˜ç›®éƒ½æ²¡çœ‹è¿‡çš„æ—¶å€™è¿‡æ‰äº†Eã€Cã€Gâ€¦ çœ‹äº†ä¸€ä¸‹Bé¢˜æ˜¯ä¸ªç®€å•DPä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆæ²¡äººå¼€ï¼Œè€Œä¸”èµ›åå‘ç°æˆ‘çš„DPæ¯”æ ‡ç¨‹è¿˜å°‘ä¸€ç»´hhhhhhhã€‚å¤©ç¥å’ŒMessyåœ¨æ¨HçŸ©é˜µçš„æ—¶å€™æˆ‘åœ¨æ—è¾¹æ— æ‰€äº‹äº‹ï¼Œåªèƒ½ç—›è‹¦åœ°è¯»æ–°é¢˜æ¥æ‰“å‘æ—¶é—´ğŸ™ƒ åæ¥å°±è¿›å…¥äº†å¤§ä½¬å£è¿°æˆ‘æ•²ä»£ç çš„ç¯èŠ‚â€¦ ç»“æœDé¢˜è„‘æ®‹waäº†å¥½å‡ å‘ç‹‚çˆ†ç½šæ—¶ï¼ŒIé¢˜å¯¹ç€æ¨¡ç‰ˆè°ƒäº†åŠå¤©è¿˜æ˜¯æ²¡å†™å‡ºæ¥ï¼Œå¤ªå¼±äº†ã€‚æœ¬æ¥ä¸€åº¦æŒ‚åœ¨rank1ï¼Œç„¶åç½šæ—¶çˆ†ç‚¸+ååŠç¨‹å¼€ä¸å‡ºé¢˜ä¸æ–­å¾€ä¸‹æ‰ï¼Œæ„Ÿè§‰çœŸæ˜¯å¾ˆä¸çˆ½ã€‚å¯èƒ½æ˜¯é›†è®­å‰å‡ å¤©ï¼Œæ„Ÿè§‰ä¸‰ä¸ªäººè¿˜æ²¡è°ƒæ•´åˆ°æ­£ç¡®çš„ä»£ç çŠ¶æ€ï¼Œè„‘æ®‹é”™è¯¯æœ‰ç‚¹å¤šï¼Œè€ƒè™‘åé¢åšåšæ‰‹é€Ÿè®­ç»ƒã€‚  </p>
</li>
<li><h3 id="Chaos-1"><a href="#Chaos-1" class="headerlink" title="Chaos"></a>Chaos</h3><p>   ä¸€æ•´ä¸ªç™½å¤©éƒ½åœ¨å’Œlcaåšæ–—äº‰â€¦ ä»è·‘ä¸å‡ºæ ·ä¾‹åˆ°tleåˆ°waåˆ°reåˆ°å†æ¬¡è·‘ä¸å‡ºæ ·ä¾‹â€¦ é¬¼çŸ¥é“æˆ‘ç»å†äº†ä»€ä¹ˆğŸŒš æ‰¾Clariså¤§ä½¬(%%%)è¦äº†Fé¢˜çš„æ ‡ç¨‹ï¼Œç­‰æˆ‘ææ‡‚å°±å†™ä¸€æ³¢é¢˜è§£å¸¦èŠ‚å¥hhhğŸ¤“ ç„¶åæ•´ç†äº†è¿™ç¯‡recordï¼Œè¿˜æ˜¯æŠŠæ‰€æœ‰ä¸œè¥¿éƒ½è®°ä¸‹æ¥æ¯”è¾ƒè®©äººè¸å®å¹¶ä¸”æœ‰åŠ¨åŠ›ã€‚  </p>
<p> ã€€ã€€è¯è¯´ä¸çŸ¥ä¸è§‰å°±å¼€å§‹è¿›å…¥äº†ä»£ç æ‰‹çš„è§’è‰²ï¼Œè™½ç„¶å‹åŠ›ç•¥å¤§ï¼Œä½†è¿™ç§åªç”¨åŠ¨æ‰‹ä¸ç”¨åˆ°è„‘çš„äº‹æƒ…è¿˜æ˜¯å¾ˆè®©äººå¼€å¿ƒå¹¶ä¸”å¾ˆç‡ƒçš„ğŸ™Š ä¸èƒ½æ‹–é˜Ÿå‹åè…¿è¾œè´Ÿä¿¡ä»»ï¼Œæ‰€ä»¥æ›´è¦æé«˜è‡ªå·±çš„ä»£ç èƒ½åŠ›ï¼Œæ•´ç†å¥½å„ç§æ¨¡ç‰ˆå¾ˆé‡è¦ã€‚åç­‰ä»Šæ™šCFï¼Œä¸ä¼šçŒæ­»å§ã€‚  </p>
</li>
<li><h3 id="ToDoList-1"><a href="#ToDoList-1" class="headerlink" title="ToDoList"></a>ToDoList</h3><p>ã€‚    å­¦ä¹ lcaï¼Œæ•´ç†æ¨¡ç‰ˆ  </p>
</li>
<li><h3 id="CF-420-div-2"><a href="#CF-420-div-2" class="headerlink" title="CF # 420 div.2"></a><a href="http://codeforces.com/contest/821" target="_blank" rel="external">CF # 420 div.2</a></h3><p> <del>A    Okabe and Future Gadget Laboratory    x4117</del><br> <del>B    Okabe and Banana Trees    x3026</del><br> <del>C    Okabe and Boxes     x2167</del>ï¼ˆè¡¥é¢˜è§£ï¼‰<br> <del>D    Okabe and City     x330</del>ï¼ˆè¡¥é¢˜è§£ï¼‰<br> <del>E    Okabe and El Psy Kongroo     x477</del>(è¡¥é¢˜è§£)</p>
<p> ã€€ã€€è¿™åœºæ‰‹é€Ÿè¿˜è¡Œï¼Œç»“æœç¥tmçš„åˆunratedï¼Œæ‰“çš„ä¸ºæ•°ä¸å¤šçš„å‡ åœºæ¯”èµ›å‡ ä¹éƒ½å„ç§è«åå…¶å¦™é—®é¢˜unratedï¼Œè®ºæˆ‘ä¸ºä»€ä¹ˆä¸çˆ±æ‰“CFğŸ¤·ä¸è¿‡è¿˜æ˜¯åˆ‡ä¸åŠ¨åä¸¤é¢˜ï¼Œç»§ç»­ä¿®ç‚¼å§å°‘å¹´ã€‚  </p>
<p> â€‹</p>
</li>
</ol>
<h1 id="day3-06-26"><a href="#day3-06-26" class="headerlink" title="day3 06.26"></a>day3 06.26</h1><ol>
<li><h3 id="TeamTrainingï¼šThe-2014-ACM-ICPC-Asia-Mudanjiang-Regional-Contest-â€”-rank1"><a href="#TeamTrainingï¼šThe-2014-ACM-ICPC-Asia-Mudanjiang-Regional-Contest-â€”-rank1" class="headerlink" title="TeamTrainingï¼šThe 2014 ACM-ICPC Asia Mudanjiang Regional Contest â€” rank1"></a><a href="http://icpc.njust.edu.cn/Contest/1098/" target="_blank" rel="external">TeamTrainingï¼šThe 2014 ACM-ICPC Asia Mudanjiang Regional Contest â€” rank1</a></h3><p><del>A    Average Scoreï¼ˆæ¨¡æ‹Ÿï¼‰</del><br>B    Building Fire Stationsï¼ˆäºŒåˆ†+è´ªå¿ƒï¼‰<br>C    Card Gameï¼ˆã€‚ã€‚ã€‚ï¼‰<br>D    Dominationï¼ˆæ¦‚ç‡DPï¼‰<br><del>E    Excavator Contestï¼ˆæ„é€ ï¼‰</del><br>F    Fiber-optic Networkï¼ˆæ ‘å½¢DPï¼‰<br>G    Garden and Sprinklersï¼ˆæ•°è®ºï¼‰<br>H    Hierarchical Notationï¼ˆæ¨¡æ‹Ÿï¼‰<br>I    Information Entropyï¼ˆæ•°å­¦ï¼‰<br>J    Jacobi Patternï¼ˆã€‚ã€‚ã€‚ï¼‰<br>K    Known Notationï¼ˆDPï¼‰</p>
</li>
<li><h3 id="Summarize-2"><a href="#Summarize-2" class="headerlink" title="Summarize"></a>Summarize</h3><p>   å¤´å¤©æ™šä¸Šæ²¡ç¡å¥½ï¼Œæ¯”èµ›çš„æ—¶å€™ä¸€ç›´æ˜æ˜æ²‰æ²‰ï¼Œæ•²Açš„æ—¶å€™è„‘è¢‹éƒ½ä¸å¤ªçµå…‰å±…ç„¶æ²¡æŠ¢åˆ°1è¡€ã€‚å’Œå¤©ç¥è®¨è®ºäº†ä¸€ä¸‹Bé¢˜ï¼Œæ€»æ„Ÿè§‰æ€è·¯å¾ˆæ¥è¿‘ä½†å°±æ˜¯å¬ä¸æ‡‚ä»–çš„å„ç§ç»†èŠ‚â€¦ ç„¶åå¤§ä½¬è«åå…¶å¦™å°±Aäº†ï¼Œæœç„¶æ˜¯æˆ‘å¤ªå¼±orzã€‚åæ¥å°±ä¸€ç›´å’ŒMessyçº ç»“Eçš„æ„é€ ï¼Œæƒ³å¥½äº†æ„é€ æ–¹æ³•å´ä¸çŸ¥é“è¦æ€ä¹ˆæ•²ä»£ç â€¦ è„‘è¢‹ä¸€ç‰‡ç©ºç™½å…¨ç¨‹æŒ‚æœºåˆ°ç»“æŸâ€¦ å¤§ä½¬é˜Ÿå‹ä»¬å¸¦é£å±…ç„¶è¿˜èƒ½æ‹¿åˆ°rank1ï¼Œpenaltyéå¸¸å‰åˆ©ï¼ŒçœŸæ˜¯66666ã€‚åæ¥çœ‹äº†ä¸€ä¸‹ç°åœºæ¦œï¼Œäº”é¢˜æ‰‹å¿«å±…ç„¶æœ‰é‡‘ï¼Œè¿™éš¾é“æ˜¯åœ¨æš—ç¤ºç€ä»€ä¹ˆï¼ˆå¤§é›¾ï¼‰ï¼Œä¸è¿‡åˆ«äººå®¶çš„è¿™ä¸ªç½šæ—¶å•Šï¼ŒçœŸçš„æ˜¯æ‰‹é€Ÿ+æ­£ç¡®ç‡å¾ˆæœæ°”ã€‚  </p>
</li>
<li><h3 id="Chaos-2"><a href="#Chaos-2" class="headerlink" title="Chaos"></a>Chaos</h3><p>   è¡¥é¢˜å…¨ç¨‹åªå†™äº†ä¸€é“å¤§æ¨¡æ‹Ÿ= = æŠ›å¼€æ™šé¥­æ—¶é—´å›å»æ´—äº†ä¸ªæ¾¡è¿™ç§çç¢äº‹ï¼Œä»ç„¶æ˜¯æ•ˆç‡ä½ä¸‹çš„ä¸€å¤©ã€‚  </p>
</li>
<li><h3 id="ToDoList-2"><a href="#ToDoList-2" class="headerlink" title="ToDoList"></a>ToDoList</h3><p> ã€‚    no new missions  </p>
<p> â€‹</p>
</li>
</ol>
<h1 id="day4-06-27"><a href="#day4-06-27" class="headerlink" title="day4 06.27"></a>day4 06.27</h1><ol>
<li><h3 id="TeamTrainingï¼š2013-Asia-Changsha-Regional-Contest-â€”-no-rank"><a href="#TeamTrainingï¼š2013-Asia-Changsha-Regional-Contest-â€”-no-rank" class="headerlink" title="TeamTrainingï¼š2013 Asia Changsha Regional Contest â€” no rank"></a><a href="http://icpc.njust.edu.cn/Contest/1106/" target="_blank" rel="external">TeamTrainingï¼š2013 Asia Changsha Regional Contest â€” no rank</a></h3><p><del>A    Aliceâ€™s Print Serviceï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰</del><br>B    Bobâ€™s new toyï¼ˆæ ‘å½¢DP+RMQï¼‰<br>C    Collisionï¼ˆè®¡ç®—å‡ ä½•ï¼‰<br>D    Arnoldï¼ˆæ–æ³¢æ‹‰å¥‘ï¼‰<br>E    Easy Problem Once Moreï¼ˆã€‚ã€‚ã€‚ï¼‰<br><del>F    Winterâ€™s Comingï¼ˆè½®å»“çº¿DPï¼‰</del><br>G    Graph Reconstructionï¼ˆæ„é€ ï¼‰<br>H    Skycityï¼ˆè®¡ç®—å‡ ä½•ï¼‰<br>I    LIKE vs CANDLEï¼ˆæ ‘å½¢DPï¼‰<br>J    Josephina and RPGï¼ˆæ¦‚ç‡DPï¼‰<br>K    Pocket Cubeï¼ˆæ¨¡æ‹Ÿï¼‰</p>
</li>
<li><h3 id="Summarize-3"><a href="#Summarize-3" class="headerlink" title="Summarize"></a>Summarize</h3><p>   é¬¼çŸ¥é“é±¼å¤´ä¸ºä»€ä¹ˆå¦‚æ­¤åæ‰§åœ°è¦åœˆzojçš„é¢˜â€¦ ä¸èƒ½submitäºæ˜¯ä¸è®¡rankçš„ä¸€åœºæ¯”èµ›ï¼Œå°±æœ‰ç‚¹ä¸å¤ªæœ‰å…´è‡´ç»§ç»­åšä¸‹å»â€¦ è¿™çœŸæ˜¯ä¸€ç§ä¸å¥½çš„å¿ƒæ€= = Aé¢˜æ€è·¯è›®å¥½æƒ³çš„ï¼Œå¯æƒœåœ¨å¤„ç†è¾¹ç•Œçš„æ—¶å€™æƒ³å½“ç„¶äº†ï¼Œå›¾ç®€å•éšä¾¿å†™äº†ä¸€ä¸ªINFå€¼ä¹Ÿå¯¼è‡´æŒ‚æ‰â€¦ è¿˜è¢«mytå„ç§å˜²ç¬‘ğŸ™„ï¸Fä¸€é“å¾ˆæ˜¾ç„¶çš„æ’å¤´DPï¼Œå¯æ˜¯å› ä¸ºåˆ†ä¸æ¸…å·¦å³å°±æ”¾å¼ƒäº†â€¦ åæ¥çœ‹é¢˜è§£å‘ç°å…¶å®åˆ¤æ–­æ¡ä»¶å¾ˆç®€å•ã€‚ç°åœ¨æƒ³æƒ³ï¼Œæ¯æ¬¡æˆ‘å¦¹é—®æˆ‘é¢˜æ—¶æˆ‘è¯´å¥¹æ ¹æœ¬æ²¡æœ‰åŠ¨è„‘è®¤çœŸå»æ€è€ƒï¼Œä»Šå¤©æˆ‘ä¸ä¹Ÿæ˜¯è¿™æ ·çš„å—ã€‚  </p>
</li>
<li><h3 id="Chaos-3"><a href="#Chaos-3" class="headerlink" title="Chaos"></a>Chaos</h3><p>   é‡æ–°ç†Ÿæ‚‰äº†ä¸€ä¸‹è½®å»“çº¿DPè¡¥å®ŒFé¢˜ï¼Œæœ€å¤§çš„æ”¶è·æ˜¯ï¼Œæ•°ç»„å¼€å°å±…ç„¶ä¼šå¯¼è‡´Time Limit Exceededã€Output Limit Exceededè¿™äº›å¥‡å¥‡æ€ªæ€ªçš„é”™è¯¯= = æœ‰ç‚¹æ‡’ä¸æƒ³å†™é¢˜è§£â€¦ è¡¥è¡¥å‰å¤©çš„CFå§ï¼Œé¡ºä¾¿åç­‰ä»Šå¤©çš„CFã€‚  </p>
</li>
<li><h3 id="ToDoList-3"><a href="#ToDoList-3" class="headerlink" title="ToDoList"></a>ToDoList</h3><p> ã€‚    no new missions  </p>
</li>
<li><h3 id="CF-421-div-2"><a href="#CF-421-div-2" class="headerlink" title="CF # 421 div.2"></a><a href="http://codeforces.com/contest/820" target="_blank" rel="external">CF # 421 div.2</a></h3><p> <del>A    Mister B and Book Reading     x3644</del><br> <del>B    Mister B and Angle in Polygon     x2620</del><br> C    Mister B and Boring Game     x37<br> D    Mister B and PR Shifts     x209<br> E    Mister B and Beacons on Field     x2</p>
<p> ã€€ã€€Bé¢˜å†™äº†å¥½ä¹…ï¼Œæœç„¶æˆ‘çš„äºŒåˆ†å§¿åŠ¿è¿˜æ˜¯æœ‰å¾…æé«˜ã€‚ç–¯ç‹‚è®¨è®ºcé¢˜çš„å„ç§ifï¼Œç»“æœé¢˜ç›®æœ‰é”™è¯¯â€¦ è¿™å°±æ˜¯æˆ‘æ‰“çš„è¿™ä¹ˆå¤šæ¯”èµ›éƒ½unratedçš„ç†ç”±å—ğŸ¤·â€â™€ï¸  </p>
<p> â€‹</p>
</li>
</ol>
<h1 id="day5-06-28"><a href="#day5-06-28" class="headerlink" title="day5 06.28"></a>day5 06.28</h1><ol>
<li><h3 id="TeamTrainingï¼š2012-Asia-Changchun-Regional-Contest-â€”-no-rank"><a href="#TeamTrainingï¼š2012-Asia-Changchun-Regional-Contest-â€”-no-rank" class="headerlink" title="TeamTrainingï¼š2012 Asia Changchun Regional Contest â€” no rank"></a><a href="http://icpc.njust.edu.cn/Contest/1100/" target="_blank" rel="external">TeamTrainingï¼š2012 Asia Changchun Regional Contest â€” no rank</a></h3><p>A    Alice and Bobï¼ˆRMQï¼‰<br><del>B    Bit Magicï¼ˆ2-SATï¼‰</del><br>C    The Little Girl who Picks Mushroomsï¼ˆæ¨¡æ‹Ÿï¼‰<br>D    Simple Functionï¼ˆæ•°è®ºï¼‰<br><del>E    Conquer a New Regionï¼ˆå¹¶æŸ¥é›†ï¼‰</del><br>F    Fantastic Necklaceï¼ˆã€‚ã€‚ã€‚ï¼‰<br>G    Palindromic Substringï¼ˆåç¼€æ•°ç»„ï¼‰<br><del>H    Math Magicï¼ˆDPï¼‰</del><br>I    Polaris of Pandoraï¼ˆçº¿æ®µæ ‘ï¼‰<br><del>J    Split the Rectangleï¼ˆLCAï¼‰</del><br>K    Yukariâ€™s Birthdayï¼ˆæšä¸¾+äºŒåˆ†ï¼‰</p>
</li>
<li><h3 id="Summarize-4"><a href="#Summarize-4" class="headerlink" title="Summarize"></a>Summarize</h3><p>   ä»¥ä¸º2-SATæ˜¯æˆ‘çš„partï¼Œç»“æœå„ç§å»ºè¾¹é”™è¯¯segmentation fault+wrong answerå…­å‘ç½šæ—¶çˆ†ç‚¸ã€‚æœç„¶æœ‰æ¨¡ç‰ˆåªæ˜¯ç¬¬ä¸€æ­¥ï¼Œç†è§£ä¸å¤Ÿä»€ä¹ˆéƒ½äºäº‹æ— è¡¥ã€‚Jé¢˜å¯åšæ€§æ›´é«˜ï¼Œå¯æƒœå¼€å¾—å¤ªè¿Ÿã€‚åˆæ˜¯å¤§ä½¬é˜Ÿå‹å¸¦é£çš„ä¸€åœºæ¯”èµ›â€¦  </p>
</li>
<li><h3 id="Chaos-4"><a href="#Chaos-4" class="headerlink" title="Chaos"></a>Chaos</h3><p>   åˆè§‰ç¡å¤ªä¹…ï¼ŒåŸæœ¬çš„è®¡åˆ’å®Œå…¨æ‰“ä¹±ï¼Œé†’è¿‡æ¥ä¹‹åå°±ä¸€é˜µçƒ¦èºå•Šå•Šå•Šå•Šå•Šå•Šå•Šã€‚å’Œé©¬è€å¸ˆä¸€èµ·å»ä¸€å·é—¨ä¹°è¥¿ç“œï¼Œä»–è¯´å°å§‘å¨˜ä½ è¿™çŠ¶æ€ä¸å¯¹å•Šï¼Œç¡è¶³ä¹‹åä¸åº”è¯¥å¾ˆç²¾ç¥å—ï¼Œæˆ‘è¯´ç¡ä¹…äº†å°±æ˜¯å¾ˆçƒ¦å˜›ï¼Œä»–è¯´ä½ éƒ½ä¸ä¼šå¥½å¥½ç®¡ç†è‡ªå·±çš„æƒ…ç»ªè¿™ä¸è¡Œçš„å•Šï¼Œç„¶åæˆ‘çœ¼æ³ªå”°ä¸€ä¸‹å°±ä¸‹æ¥äº†ã€‚åæ­£èµ°åœ¨æˆ‘çš„å³æ‰‹è¾¹ä¹Ÿä¸ä¼šçœ‹åˆ°æˆ‘åœ¨å“­çš„å¯¹å§ã€‚  </p>
<p> ã€€ã€€æ™šé¥­ä¹‹åè¿‡æ‰äº†Jã€Eã€Hï¼ŒDPå¼±åˆ°ç…§ç€é˜Ÿå‹ACçš„ä»£ç å†™å‡ºæ¥ä¹Ÿè¿˜è¦è°ƒè¯•åŠå¤©ğŸ˜”ã€‚ä¸è¿‡å’Œé©¬è€å¸ˆä¸€èµ·åƒåƒæ™šé¥­è°ƒè°ƒä»£ç å¿ƒæƒ…åˆå¥½å¾ˆå¤šï¼Œæœç„¶å¥³å­©å­è¿˜æ˜¯æƒ…ç»ªåŒ–å•Šã€‚  </p>
</li>
<li><h3 id="ToDoList-4"><a href="#ToDoList-4" class="headerlink" title="ToDoList"></a>ToDoList</h3><p>ã€‚    å¤ä¹ 2-SATï¼Œåˆ·é¢˜  </p>
<p>â€‹</p>
</li>
</ol>
<h1 id="day6-06-29"><a href="#day6-06-29" class="headerlink" title="day6 06.29"></a>day6 06.29</h1><ol>
<li><h3 id="TeamTrainingï¼š2011-Asia-Dalian-Regional-Contest-â€”-rank-1"><a href="#TeamTrainingï¼š2011-Asia-Dalian-Regional-Contest-â€”-rank-1" class="headerlink" title="TeamTrainingï¼š2011 Asia Dalian Regional Contest â€” rank 1"></a><a href="http://icpc.njust.edu.cn/Contest/1101/" target="_blank" rel="external">TeamTrainingï¼š2011 Asia Dalian Regional Contest â€” rank 1</a></h3><p>A    Compress the Stringï¼ˆå›æº¯ï¼‰<br>B    Adding New Machineï¼ˆçº¿æ®µæ ‘ï¼‰<br>C    The Last Puzzleï¼ˆåŒºé—´DPï¼‰<br><del>D    Hexadecimal Viewï¼ˆæ¨¡æ‹Ÿï¼‰</del><br>E    Number Stringï¼ˆDPï¼‰<br>F    Draw a Messï¼ˆå¹¶æŸ¥é›†ï¼‰<br><del>G    Rescue the Rabbitï¼ˆACè‡ªåŠ¨æœº+çŠ¶å‹DPï¼‰</del><br>H    Advanture of Xiaoxingxingï¼ˆè®¡ç®—å‡ ä½•ï¼‰<br>I    The Boss on Marsï¼ˆæ•°å­¦ï¼‰<br>J    Chess Boardï¼ˆã€‚ã€‚ã€‚ï¼‰</p>
</li>
<li><h3 id="Summarize-5"><a href="#Summarize-5" class="headerlink" title="Summarize"></a>Summarize</h3><p>   ç¡è¿‡å¤´çš„é˜Ÿå‹â€¦ ç„¶åå°±å†™äº†ä¸€ä¸Šåˆçš„ACè‡ªåŠ¨æœº= = æ¨¡ç‰ˆä»€ä¹ˆçš„éƒ½å¾ˆeasyï¼Œé—®é¢˜è¿˜æ˜¯å‡ºåœ¨DPè½¬ç§»ä¸Šâ€¦ å“è¿˜æ˜¯è¦ç»ƒDPå•ŠğŸ˜• å¬è¯´æœ‰ä¸¤é“çº¿æ®µæ ‘ï¼Œå¯æƒœéƒ½æ²¡æ—¶é—´å»å¼€é¢˜ã€‚çœ‹äº†ä¸€ä¸‹ç°åœºæ¦œï¼Œ5é¢˜æ‰‹å¿«èƒ½æœ‰é‡‘ï¼Œå¦‚æœèƒ½åœ¨Gé¢˜å‡ºé—®é¢˜çš„æ—¶å€™è®©å¤©ç¥ä¸€èµ·æ¥è€ƒè™‘ä¸€ä¸‹è½¬ç§»ï¼Œæˆ‘å†å»å¼€ä¸€é“çº¿æ®µæ ‘ï¼Œè¯´ä¸å®šå°±èµ¢äº†å‘¢ï¼ˆå¤§é›¾ï¼‰ã€‚  </p>
</li>
<li><h3 id="Chaos-5"><a href="#Chaos-5" class="headerlink" title="Chaos"></a>Chaos</h3><p>   ä»Šå¤©â€¦ ç©äº†ä¸€å¤©çš„çºªå¿µç¢‘è°·å’Œfolksã€‚å—¯ï¼Œä»Šå¤©åˆæ˜¯ä¸€äº‹æ— æˆçš„ä¸€å¤©å“¦ğŸ™ƒ  </p>
</li>
<li><h3 id="ToDoList-5"><a href="#ToDoList-5" class="headerlink" title="ToDoList"></a>ToDoList</h3><p> ã€‚ã€€å¤ä¹ ACè‡ªåŠ¨æœºï¼Œåˆ·é¢˜  </p>
<p> â€‹</p>
</li>
</ol>
<h1 id="day7-06-30"><a href="#day7-06-30" class="headerlink" title="day7 06.30"></a>day7 06.30</h1><ol>
<li><h3 id="TeamTrainingï¼š2010-Asia-Chengdu-Regional-Contest-â€”-rank-2"><a href="#TeamTrainingï¼š2010-Asia-Chengdu-Regional-Contest-â€”-rank-2" class="headerlink" title="TeamTrainingï¼š2010 Asia Chengdu Regional Contest â€” rank 2"></a><a href="http://icpc.njust.edu.cn/Contest/1102/" target="_blank" rel="external">TeamTrainingï¼š2010 Asia Chengdu Regional Contest â€” rank 2</a></h3><p><del>A    Balanced Numberï¼ˆæ•°ä½DPï¼‰</del><br>B    Battle over Citiesï¼ˆæ ‘é“¾å‰–åˆ†+LCAï¼‰<br>C    Binary Numberï¼ˆæ¨¡æ‹Ÿï¼‰<br>D    Detector Placementï¼ˆè®¡ç®—å‡ ä½•ï¼‰<br><del>E    Double Mazeï¼ˆæœç´¢+æ¨¡æ‹Ÿï¼‰</del><br>F    Error Curvesï¼ˆä¸‰åˆ†ï¼‰<br><del>G    Go Deeperï¼ˆ2-SATï¼‰</del><br>H    Jengaï¼ˆã€‚ã€‚ã€‚ï¼‰<br>I    Rescueï¼ˆåˆ†æ²»ï¼‰<br><del>J    Similarityï¼ˆæœ€ä½³åŒ¹é…ï¼‰</del><br>K    Snooker Refereeï¼ˆäºŒå‰æ ‘ï¼‰</p>
</li>
<li><h3 id="Summarize-6"><a href="#Summarize-6" class="headerlink" title="Summarize"></a>Summarize</h3><p>   å¼€äº†ä¸€é“æ•°ä½dpï¼Œå†™äº†åŠå¤©ï¼Œä¸è¿‡æ ·ä¾‹â€¦ å¼€äº†ä¸€é“2-SATï¼Œå†™äº†åŠå¤©ï¼Œwaâ€¦ ç„¶åè«åå…¶å¦™å¤©ç¥å°±æŠŠæˆ‘çš„Aè°ƒå‡ºæ ·ä¾‹äº†ï¼Ÿï¼Ÿï¼Ÿç„¶åè«åå…¶å¦™ä»–äº¤äº†ä¸€å‘å°±1Aäº†ï¼Ÿï¼Ÿï¼Ÿé˜Ÿé‡Œæœ‰DPå¤§ä½¬ä¸ºä»€ä¹ˆè¿˜è¦è®©æˆ‘å†™DPè‡ªå–å…¶è¾±å•Šï¼ˆæ‘”æ¡Œï¼‰ã€‚åæ¥å‘ç°2-SATæ˜¯è·ªåœ¨åˆå§‹åŒ–ï¼Œæ‰€ä»¥ä¸€å®šè¦è®°ä½äºŒåˆ†çš„é¢˜æ¯æ¬¡éƒ½è¦åˆå§‹åŒ–ã€‚çœ‹å‰ä¸¤ä¸ªé˜Ÿéƒ½è¿‡äº†Jé¢˜ï¼ŒMessyçœ‹äº†é¢˜ç›®æƒ³æƒ³æƒ³äº†ä¸€ä¼šå„¿å°±è¯´è¿™æ˜¯ä¸ªç½‘ç»œæµçš„é¢˜ï¼Œç»™æˆ‘è®²äº†ä¸€ä¸‹ç¥å¥‡çš„æ„å›¾ç„¶åæˆ‘ä¸Šå»ååˆ†é’Ÿæ•²äº†ä¸€ä¸ªæœ€ä½³åŒ¹é…çš„æ¿å­å±…ç„¶å°±è¿‡äº†â€¦ å¯¹æ¯”ä¸€ä¸‹å‰ä¸¤é¢˜æˆ‘æµªè´¹çš„æ—¶é—´ï¼Œå°±è§‰å¾—å¾ˆæ¢¦å¹»ï¼Œç®€ç›´æ€€ç–‘äººç”Ÿã€‚  </p>
</li>
<li><h3 id="Chaos-6"><a href="#Chaos-6" class="headerlink" title="Chaos"></a>Chaos</h3><p>   å¦‚æœæˆ‘è¯´æˆ‘æ˜¯åœ¨7æœˆ4å·è¡¥äº†6æœˆ30å·çš„Chaosï¼Œé‚£å¤§å®¶ä¸€å®šä¼šåŸè°…æˆ‘å¯¹äºé‚£ä¸€å¤©æ‰€æœ‰äº‹æƒ…çš„é—å¿˜ï¼ˆè¿˜ä¸æ˜¯ä½ æ‹–å»¶ç—‡ï¼‰ã€‚  </p>
</li>
</ol>
<ol>
<li><h3 id="ToDoList-6"><a href="#ToDoList-6" class="headerlink" title="ToDoList"></a>ToDoList</h3><p>ã€‚ã€€å­¦ä¹ æ•°ä½DPï¼Œæ•´ç†æ¨¡ç‰ˆ  </p>
<p>â€‹</p>
</li>
</ol>
<h1 id="day8-07-01"><a href="#day8-07-01" class="headerlink" title="day8 07.01"></a>day8 07.01</h1><ol>
<li><h3 id="TeamTrainingï¼š2011-Asia-Beijing-Regional-Contest-â€”-rank-1"><a href="#TeamTrainingï¼š2011-Asia-Beijing-Regional-Contest-â€”-rank-1" class="headerlink" title="TeamTrainingï¼š2011 Asia Beijing Regional Contest â€” rank 1"></a><a href="http://icpc.njust.edu.cn/Contest/1103/" target="_blank" rel="external">TeamTrainingï¼š2011 Asia Beijing Regional Contest â€” rank 1</a></h3><p><del>A    Qin Shi Huangâ€™s National Road Systemï¼ˆæœ€å°ç”Ÿæˆæ ‘ï¼‰</del><br>B    Hou Yiâ€™s secretï¼ˆæšä¸¾ï¼‰<br>C    Three Kingdom Chessï¼ˆæ¨¡æ‹Ÿï¼‰<br>D    The Voyages of Zheng Heï¼ˆæ’å¤´DPï¼‰<br>E    Peach Blossom Springï¼ˆDPï¼‰<br>F    Harry Potter and the holy banquetï¼ˆæ•°è®ºï¼‰<br>G    ALetter to Programmersï¼ˆè®¡ç®—å‡ ä½•ï¼‰<br>H    Healingï¼ˆã€‚ã€‚ã€‚ï¼‰<br>I    Activationï¼ˆæ¦‚ç‡DPï¼‰<br><del>J    GemAnd Princeï¼ˆæ¨¡æ‹Ÿ+æœç´¢ï¼‰</del></p>
</li>
<li><h3 id="Summarize-7"><a href="#Summarize-7" class="headerlink" title="Summarize"></a>Summarize</h3><p>   æˆ‘ä¹Ÿä¸çŸ¥é“Bé¢˜å’ŒIé¢˜å‘ç”Ÿäº†ä»€ä¹ˆåæ­£æˆ‘é˜Ÿå‹å°±ACäº†â€¦ å…¨ç¨‹Jé¢˜å¤§æ¨¡æ‹Ÿï¼Œè™½ç„¶ä¸­é—´MLEä½†å¼ºè¡Œå­—ç¬¦ä¸²hashä¸€å‘ä¹Ÿå°±è«åå…¶å¦™Aæ‰äº†ç„¶åå‘ç°å…¨åœºåªæœ‰æˆ‘é˜Ÿè¿‡äº†è¿™é¢˜hhhã€‚åæ¥Messyçœ‹äº†ä¸€ä¸‹æ¦œï¼Œå‘ç°Aé¢˜å¤§æ¦‚æ˜¯å¯åšçš„ï¼Ÿç„¶åä¸‰ï¼ˆåˆ’æ‰ï¼Œå…¶å®åªæœ‰ä¿©å¤§ç¥é˜Ÿå‹åœ¨è„‘æ´å¤§å¼€ï¼‰ä¸ªäººè®¨è®ºäº†ä¸€ä¸‹ï¼Œä»–ä»¬å°±å¼€å§‹å‘Šè¯‰æˆ‘è¦æ€ä¹ˆå†™â€¦ è™½ç„¶å„ç§æ‰‹æ®‹å†™å®Œä¹‹åè¿˜deäº†åŠå¤©bugï¼Œä½†æ˜¯1A+1è¡€è¿˜æ˜¯sohappyå‘€~ è™½ç„¶è¿˜æœ‰50minç»“æŸï¼Œä½†æˆ‘ä»¬å·²ç»å¼€å§‹æŒ‚æœºäº†ï¼Œå°±è¿™æ ·æ¬¢å£°ç¬‘è¯­æ‰“å‡ºäº†æœ€åä¸€åœºæ¯”èµ›çš„GGendingã€‚  </p>
</li>
<li><h3 id="Chaos-7"><a href="#Chaos-7" class="headerlink" title="Chaos"></a>Chaos</h3><p>   æœ¨æœ‰ä¸‹æ–‡åˆ«çœ‹äº†ï¼Œæ¯”èµ›å®Œä¹‹åå°±å¼€å¼€å¿ƒå¿ƒè·Ÿç€é©¬è€å¸ˆè·‘è·¯å•¦hhhã€‚ </p>
</li>
<li><h3 id="ToDoList-7"><a href="#ToDoList-7" class="headerlink" title="ToDoList"></a>ToDoList</h3><p> ã€‚ã€€no new missions   </p>
</li>
</ol>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€æš‘å‡é›†è®­ä¸ªäººæ—¥å¸¸ï¼ˆé˜¶æ®µä¸€ï¼‰ã€‚  &lt;/p&gt;
    
    </summary>
    
      <category term="ACMè®­ç»ƒè®°å½•" scheme="http://thea-r.github.io/categories/ACM%E8%AE%AD%E7%BB%83%E8%AE%B0%E5%BD%95/"/>
    
    
      <category term="record" scheme="http://thea-r.github.io/tags/record/"/>
    
  </entry>
  
  <entry>
    <title>HDU4688 Cut the Cake</title>
    <link href="http://thea-r.github.io/2017/06/24/HDU4688-Cut-the-Cake/"/>
    <id>http://thea-r.github.io/2017/06/24/HDU4688-Cut-the-Cake/</id>
    <published>2017-06-24T13:07:08.000Z</published>
    <updated>2018-07-01T09:53:36.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2013 Multi-University Training Contest 9  </p>
<p>ã€€ã€€é¢˜æ„ï¼šç»™å®šä¸€ä¸ªå®½ä¸ºwé•¿ä¸ºhçš„çŸ©å½¢ï¼ŒçŸ©å½¢ä¸­nä¸ªç‚¹ç»„æˆå‡¸å¤šè¾¹å½¢ï¼ŒæŒ‰å¤šè¾¹å½¢çš„è¾¹æ¯æ¬¡å°†çŸ©å½¢ä¸€åˆ†ä¸ºäºŒï¼Œå¯¹å‡¸å¤šè¾¹å½¢æ‰€åœ¨éƒ¨åˆ†ç»§ç»­æ“ä½œä¸€åˆ†ä¸ºäºŒçš„æ“ä½œï¼Œç›´è‡³å®Œå…¨åˆ‡å‰²å‡ºå‡¸å¤šè¾¹å½¢ã€‚è‹¥æ¯ä¸€æ¬¡åˆ‡å‰²çš„ä»£ä»·ä¸ºåˆ‡å‰²çº¿çš„é•¿åº¦ï¼Œæ±‚æœ€å°ä»£ä»·ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=4688" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€åœ¨ç½‘ä¸Šæœåˆ°ä¸€ä½å¤§ä½¬çš„<a href="http://blog.csdn.net/dslovemz/article/details/10129535" target="_blank" rel="external">è§£é¢˜æŠ¥å‘Š</a>ï¼ŒæŒç»­æ‡µé€¼â€¦ çœ‹ä¸æ‡‚initï¼Œçœ‹ä¸æ‡‚dpï¼Œè®¡ç®—å‡ ä½•åŠdpæ¸£æ¸£å•ƒäº†åŠå¤©æ˜æ˜æ¬²ç¡ğŸŒš  </p>
<p>ã€€ã€€æŒ‰è¾“å…¥é¡ºåºç›¸é‚»ä¸¤ç‚¹p[i]å’Œp[i+1]å»ºè¾¹line[i]ï¼Œåˆ†åˆ«è®°p[i]å’Œp[i+1]ä¸ºline[i]çš„å·¦å³ç«¯ç‚¹ï¼Œé‡ç‚¹æ˜¯ç†è§£ä»¥ä¸‹æ•°ç»„çš„ä½œç”¨ï¼š  </p>
<ul>
<li>ld[i]ï¼šline[i]å·¦ç«¯ç‚¹åˆ°è¾¹ç•Œçš„æœ€çŸ­è·ç¦»ï¼ˆæ­¤å¤„çš„è·ç¦»æ˜¯æŒ‡ï¼Œline[i]çš„å·¦ç«¯ç‚¹åˆ°line[i]ä¸è¾¹ç•Œçš„äº¤ç‚¹çš„è·ç¦»ï¼Œä¸‹åŒï¼‰  </li>
<li>rd[i]ï¼šline[i]å³ç«¯ç‚¹åˆ°è¾¹ç•Œçš„æœ€çŸ­è·ç¦»  </li>
<li>rel[i][j]ï¼šline[i]å·¦ç«¯ç‚¹åˆ°line[j]æ›´è¿‘ä¸ºtrueï¼Œå¦åˆ™å³ç«¯ç‚¹æ›´è¿‘ï¼Œä¸ºfalseï¼ˆæ­¤å¤„çš„è·ç¦»æ˜¯æŒ‡ï¼Œline[i]çš„å·¦ç«¯ç‚¹åˆ°line[i]ä¸line[j]çš„äº¤ç‚¹çš„è·ç¦»ï¼Œä¸‹åŒï¼‰  </li>
<li>dd[i][j]ï¼šline[i]æŸç«¯ç‚¹åˆ°line[j]çš„æœ€çŸ­è·ç¦»ï¼ˆrel[i][j]ä¸ºtrueæ˜¯å·¦ç«¯ç‚¹ï¼Œå¦åˆ™æ˜¯å³ç«¯ç‚¹ï¼‰  </li>
</ul>
<p>ã€€ã€€ææ‡‚äº†initè®¡ç®—ï¼Œå‰©ä¸‹çš„dpè¿‡ç¨‹å°±ç®€å•å¾ˆå¤šï¼Œf[i][j]è¡¨ç¤ºå…¶ä½™è¾¹å·²ç»åˆ‡å‰²å®Œæˆçš„å‰æä¸‹åˆ‡å‰²i~j-1æ‰€éœ€è¦çš„æœ€å°ä»£ä»·ï¼Œf[i][j]=f[i][k]+f[k+1][j]+cost(k)ï¼Œä¸ºç®€åŒ–ï¼Œç‚¹å’Œè¾¹æ•°ç»„æ‰©å±•ä¸€å€å¾ªç¯å­˜å‚¨ï¼Œè¯¦æƒ…è§ä»£ç ã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">200</span>+<span class="number">10</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">double</span> inf=<span class="number">1e9</span>, def=<span class="number">1e-9</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="keyword">double</span> w, h, ld[maxn], rd[maxn], dd[maxn][maxn], f[maxn][maxn];</div><div class="line"><span class="keyword">bool</span> rel[maxn][maxn], vis[maxn][maxn];</div><div class="line"><span class="keyword">struct</span> Point</div><div class="line">&#123;</div><div class="line">	<span class="keyword">double</span> x, y;</div><div class="line">	Point(<span class="keyword">double</span> <span class="number">_</span>x=<span class="number">0</span>, <span class="keyword">double</span> <span class="number">_</span>y=<span class="number">0</span>)</div><div class="line">	&#123;</div><div class="line">		x=<span class="number">_</span>x, y=<span class="number">_</span>y;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">sc</span><span class="params">()</span></div><div class="line">	</span>&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span>, &amp;x, &amp;y);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">double</span> <span class="title">dis</span><span class="params">(Point t)</span></div><div class="line">	</span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="built_in">sqrt</span>((x-t.x)*(x-t.x)+(y-t.y)*(y-t.y));</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">double</span> <span class="keyword">operator</span> *(Point t)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> x*t.y-y*t.x;</div><div class="line">	&#125;</div><div class="line">	Point <span class="keyword">operator</span> -(Point t)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">return</span> Point(x-t.x, y-t.y);</div><div class="line">	&#125;</div><div class="line">&#125;p[maxn];</div><div class="line"><span class="keyword">struct</span> Line</div><div class="line">&#123;</div><div class="line">	Point u, v;</div><div class="line">	<span class="keyword">double</span> len;</div><div class="line">	Line()&#123;&#125;</div><div class="line">	Line(Point <span class="number">_u</span>, Point <span class="number">_</span>v)</div><div class="line">	&#123;</div><div class="line">		u=<span class="number">_u</span>, v=<span class="number">_</span>v, len=<span class="number">_u</span>.dis(<span class="number">_</span>v);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">par</span><span class="params">(Line t)</span></div><div class="line">	</span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="built_in">fabs</span>((v-u)*(t.v-t.u))&lt;=def;</div><div class="line">	&#125;</div><div class="line">	<span class="function">Point <span class="title">inter</span><span class="params">(Line t)</span></div><div class="line">	</span>&#123;</div><div class="line">		<span class="keyword">double</span> s1=(t.v-u)*(t.u-u), s2=(t.u-v)*(t.v-v);</div><div class="line">		<span class="keyword">return</span> Point((u.x*s2+v.x*s1)/(s1+s2), (u.y*s2+v.y*s1)/(s1+s2));</div><div class="line">	&#125;</div><div class="line">&#125;line[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n*<span class="number">2</span>; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n*<span class="number">2</span>; j++) <span class="keyword">if</span>(i!=j)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(line[i].par(line[j]))</div><div class="line">			&#123;</div><div class="line">				rel[i][j]=<span class="literal">true</span>;</div><div class="line">				dd[i][j]=inf;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span></div><div class="line">			&#123;</div><div class="line">				Point o=line[i].inter(line[j]);</div><div class="line">				<span class="keyword">double</span> l=o.dis(p[i]), r=o.dis(p[i+<span class="number">1</span>]);</div><div class="line">				<span class="keyword">if</span>(l&lt;r)</div><div class="line">				&#123;</div><div class="line">					rel[i][j]=<span class="literal">true</span>;</div><div class="line">					dd[i][j]=l;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">else</span></div><div class="line">				&#123;</div><div class="line">					rel[i][j]=<span class="literal">false</span>;</div><div class="line">					dd[i][j]=r;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">	Point g[<span class="number">5</span>]=&#123;Point(<span class="number">0</span>, <span class="number">0</span>), Point(w, <span class="number">0</span>), Point (w, h), Point(<span class="number">0</span>, h), Point(<span class="number">0</span>, <span class="number">0</span>)&#125;;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">2</span>*n; i++)</div><div class="line">	&#123;</div><div class="line">		ld[i]=rd[i]=inf;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">4</span>; j++)</div><div class="line">		&#123;</div><div class="line">			Line tp=Line(g[j], g[j+<span class="number">1</span>]);</div><div class="line">			<span class="keyword">if</span>(!line[i].par(tp))</div><div class="line">			&#123;</div><div class="line">				Point o=line[i].inter(tp);</div><div class="line">				<span class="keyword">double</span> l=o.dis(p[i]), r=o.dis(p[i+<span class="number">1</span>]);</div><div class="line">				<span class="keyword">if</span>(l&lt;r)	ld[i]=min(ld[i], l);</div><div class="line">				<span class="keyword">else</span> rd[i]=min(rd[i], r);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">double</span> <span class="title">DP</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(i&gt;=j)	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span>(vis[i][j])	<span class="keyword">return</span> f[i][j];</div><div class="line"></div><div class="line">	f[i][j]=inf;</div><div class="line">	vis[i][j]=<span class="literal">true</span>;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k=i; k&lt;j; k++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">double</span> l=ld[k], r=rd[k];</div><div class="line">		<span class="keyword">if</span>(rel[k][i<span class="number">-1</span>])	l=min(l, dd[k][i<span class="number">-1</span>]);	<span class="comment">//å‰i-1æ¡è¾¹å·²ç»å¤„ç†å¥½ï¼Œå¦‚æœåˆ°line[i]çš„è·ç¦»æ¯”åˆ°è¾¹ç•Œçš„è·ç¦»æ›´è¿‘ï¼Œcostä¸­åº”è¯¥åŠ ä¸Šå‰è€…</span></div><div class="line">		<span class="keyword">else</span> r=min(r, dd[k][i<span class="number">-1</span>]);</div><div class="line">		<span class="keyword">if</span>(rel[k][j])	l=min(l, dd[k][j]);</div><div class="line">		<span class="keyword">else</span> r=min(r, dd[k][j]);</div><div class="line">		f[i][j]=min(f[i][j], DP(i, k)+DP(k+<span class="number">1</span>, j)+l+r+line[k].len);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> f[i][j];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%lf%lf"</span>, &amp;n, &amp;w, &amp;h)!=EOF)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span> vis);</div><div class="line">		<span class="built_in">memset</span>(rel, <span class="number">0</span>, <span class="keyword">sizeof</span> rel);</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)	p[i].sc();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=n; i&lt;=n*<span class="number">2</span>; i++)	p[i]=p[i-n];	<span class="comment">//i&lt;=n*2</span></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n*<span class="number">2</span>; i++)	line[i]=Line(p[i], p[i+<span class="number">1</span>]);</div><div class="line">	</div><div class="line">		<span class="keyword">double</span> ans=inf;</div><div class="line">		Init();</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)	ans=min(ans, DP(i+<span class="number">1</span>, i+n)+ld[i]+rd[i]+line[i].len);</div><div class="line">		<span class="comment">//æšä¸¾ç¬¬ä¸€åˆ€ï¼Œæ­¤æ—¶costä¸€å®šæ˜¯åˆ°è¾¹ç•Œçš„å·¦å³è·ç¦»+çº¿æ®µé•¿åº¦</span></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%.6f\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2013 Multi-University Training Contest 9  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šä¸€ä¸ªå®½ä¸ºwé•¿ä¸ºhçš„çŸ©å½¢ï¼ŒçŸ©å½¢ä¸­nä¸ªç‚¹ç»„æˆå‡¸å¤šè¾¹å½¢ï¼ŒæŒ‰å¤šè¾¹å½¢çš„è¾¹æ¯æ¬¡å°†çŸ©å½¢ä¸€åˆ†ä¸ºäºŒï¼Œå¯¹å‡¸å¤šè¾¹å½¢æ‰€åœ¨éƒ¨åˆ†ç»§ç»­æ“ä½œä¸€åˆ†ä¸ºäºŒçš„æ“ä½œï¼Œç›´è‡³å®Œå…¨åˆ‡å‰²å‡ºå‡¸å¤šè¾¹å½¢ã€‚è‹¥æ¯ä¸€æ¬¡åˆ‡å‰²çš„ä»£ä»·ä¸ºåˆ‡å‰²çº¿çš„é•¿åº¦ï¼Œæ±‚æœ€å°ä»£ä»·ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=4688&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="2013å¤šæ ¡" scheme="http://thea-r.github.io/tags/2013%E5%A4%9A%E6%A0%A1/"/>
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="è®¡ç®—å‡ ä½•" scheme="http://thea-r.github.io/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>HDU4689 Derangement</title>
    <link href="http://thea-r.github.io/2017/06/24/HDU4689-Derangement/"/>
    <id>http://thea-r.github.io/2017/06/24/HDU4689-Derangement/</id>
    <published>2017-06-24T08:50:10.000Z</published>
    <updated>2018-07-01T09:53:56.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2013 Multi-University Training Contest 9  </p>
<p>ã€€ã€€é¢˜æ„ï¼šå®šä¹‰åˆå§‹æ’åˆ—ä¸º1ã€2ã€â€¦ã€nï¼Œå®šä¹‰ä¸€ä¸ªnæ’åˆ—A[]ï¼Œ è‹¥i&gt;A[i]è¡¨ç¤ºä¸ºâ€™+â€™ï¼Œi<a[i]è¡¨ç¤ºä¸º'-'ï¼Œç»™å®šä¸€ä¸ªæ’åˆ—çš„è¡¨ç¤ºæ–¹æ³•ï¼ˆåªåŒ…å«'+'ã€'-'é•¿åº¦ä¸ºnå­—ç¬¦ä¸²ï¼‰ï¼Œé—®æœ‰å¤šå°‘ä¸ªè¿™æ ·çš„æ’åˆ—ã€‚[ -="" åŸé¢˜é“¾æ¥](http:="" acm.hdu.edu.cn="" showproblem.php?pid="4689)" <a="" id="more">  </a[i]è¡¨ç¤ºä¸º'-'ï¼Œç»™å®šä¸€ä¸ªæ’åˆ—çš„è¡¨ç¤ºæ–¹æ³•ï¼ˆåªåŒ…å«'+'ã€'-'é•¿åº¦ä¸ºnå­—ç¬¦ä¸²ï¼‰ï¼Œé—®æœ‰å¤šå°‘ä¸ªè¿™æ ·çš„æ’åˆ—ã€‚[></p>
<p>ã€€ã€€æ–°é˜Ÿä¼ç»„é˜Ÿç¬¬ä¸€åœºå•Šï¼Œæœ‰DPå¤§ä½¬é˜Ÿå‹çš„æ„Ÿè§‰çœŸæ˜¯å¥½ã€‚  </p>
<p>ã€€ã€€f[i][j]è¡¨ç¤ºæ”¾ç½®ç”¨å‰iä¸ªæ•°å­—æ”¾ç½®å‰iä¸ªä½ç½®ï¼Œå¡«æ»¡äº†æ‰€æœ‰â€™-â€˜ï¼Œå‰©ä¸‹jä¸ªâ€™+â€™æ²¡å¡«ï¼ˆä¹Ÿç›¸å½“äºæœ‰jä¸ªæ•°å­—è¦æ”¾ç½®åˆ°ç¬¬i+1~nä½ï¼‰çš„æ€»æ–¹æ¡ˆæ•°ã€‚  </p>
<p>ã€€ã€€åˆå§‹æ¡ä»¶f[0][0]=1ï¼Œè½¬ç§»å¦‚ä¸‹ï¼š  </p>
<ul>
<li>å½“a[i]ä¸ºâ€™+â€™<ul>
<li>å½“å‰æ•°å­—iåœ¨å‰é¢æŒ‘ä¸€ä¸ªâ€™+â€™æ”¾ç½®ï¼Œæ­¤æ—¶å½“å‰â€™+â€™æœªå¡«ï¼Œjä¸å˜ï¼šf[i][j]+=f[i-1][j]*j</li>
<li>å½“å‰æ•°å­—iä¸æ”¾ç½®ï¼Œæ­¤æ—¶å½“å‰â€™+â€™æœªå¡«ï¼Œjå¢åŠ ï¼šf[i][j]+=f[i-1][j-1]</li>
</ul>
</li>
</ul>
<ul>
<li>å½“a[i]ä¸ºâ€™-â€˜<ul>
<li>åœ¨å‰jä¸ªæœªæ”¾ç½®çš„æ•°å­—ä¸­æŒ‘é€‰ä¸€ä¸ªæ”¾ç½®åˆ°å½“å‰ä½ç½®ï¼Œå½“å‰æ•°å­—iä¸æ”¾ç½®ï¼Œæ­¤æ—¶jä¸å˜ï¼šf[i][j]+=f[i-1][j]</li>
<li>åœ¨å‰j+1ä¸ªæœªæ”¾ç½®çš„æ•°å­—ä¸­æŒ‘é€‰ä¸€ä¸ªæ”¾ç½®åˆ°å½“å‰ä½ç½®ï¼Œå½“å‰æ•°å­—iåœ¨å‰é¢æŒ‘ä¸€ä¸ªâ€™+â€™æ”¾ç½®ï¼Œæ­¤æ—¶jå‡å°‘ï¼šf[i][j]+=f[i-1][j+1]*(j+1)*(j+1)</li>
</ul>
</li>
</ul>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">20</span>+<span class="number">5</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> lint;</div><div class="line"></div><div class="line">lint f[maxn][maxn];</div><div class="line"><span class="keyword">char</span> s[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>, s+<span class="number">1</span>)!=EOF)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">int</span> n=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</div><div class="line">		<span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);</div><div class="line">		f[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=i; j++)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">if</span>(s[i]==<span class="string">'+'</span>)</div><div class="line">				&#123;</div><div class="line">					f[i][j]+=f[i<span class="number">-1</span>][j]*j;</div><div class="line">					<span class="keyword">if</span>(j)	f[i][j]+=f[i<span class="number">-1</span>][j<span class="number">-1</span>];</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">else</span>	f[i][j]+=(f[i<span class="number">-1</span>][j]*j+f[i<span class="number">-1</span>][j+<span class="number">1</span>]*(j+<span class="number">1</span>)*(j+<span class="number">1</span>));</div><div class="line">			&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, f[n][<span class="number">0</span>]);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2013 Multi-University Training Contest 9  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šå®šä¹‰åˆå§‹æ’åˆ—ä¸º1ã€2ã€â€¦ã€nï¼Œå®šä¹‰ä¸€ä¸ªnæ’åˆ—A[]ï¼Œ è‹¥i&amp;gt;A[i]è¡¨ç¤ºä¸ºâ€™+â€™ï¼Œi&lt;A[i]è¡¨ç¤ºä¸º&#39;-&#39;ï¼Œç»™å®šä¸€ä¸ªæ’åˆ—çš„è¡¨ç¤ºæ–¹æ³•ï¼ˆåªåŒ…å«&#39;+&#39;ã€&#39;-&#39;é•¿åº¦ä¸ºnå­—ç¬¦ä¸²ï¼‰ï¼Œé—®æœ‰å¤šå°‘ä¸ªè¿™æ ·çš„æ’åˆ—ã€‚[ - åŸé¢˜é“¾æ¥](http://acm.hdu.edu.cn/showproblem.php?pid=4689)
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="DP" scheme="http://thea-r.github.io/tags/DP/"/>
    
      <category term="2013å¤šæ ¡" scheme="http://thea-r.github.io/tags/2013%E5%A4%9A%E6%A0%A1/"/>
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
  </entry>
  
  <entry>
    <title>POJ1486 Sorting Slides</title>
    <link href="http://thea-r.github.io/2016/10/21/POJ1486-Sorting-Slides/"/>
    <id>http://thea-r.github.io/2016/10/21/POJ1486-Sorting-Slides/</id>
    <published>2016-10-21T13:23:45.000Z</published>
    <updated>2018-07-01T09:54:27.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€é¢˜æ„ï¼šç»™å®šnä¸ªçŸ©å½¢nä¸ªç‚¹ï¼Œå°†çŸ©å½¢å’Œç‚¹ä¸€ä¸€å¯¹åº”ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å”¯ä¸€çš„é…å¯¹æƒ…å†µã€‚<a href="http://poj.org/problem?id=1486" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€å…ˆæ‰¾å‡ºä»»æ„å®Œå¤‡åŒ¹é…ï¼Œå†æšä¸¾åŒ¹é…ä¸­çš„æ¯ä¸€æ¡è¾¹ï¼Œè‹¥åˆ å»è¯¥è¾¹ä»èƒ½æ‰¾åˆ°å®Œå¤‡åŒ¹é…ï¼Œåˆ™è¯¥è¯¥è¾¹å¯¹åº”çš„çŸ©å½¢æ²¡æœ‰å”¯ä¸€é…å¯¹æ–¹æ¡ˆã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">26</span>+<span class="number">5</span>, maxm=<span class="number">1000</span>+<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, n, ans, from[maxn], rec[maxn];</div><div class="line"><span class="keyword">bool</span> mmp[maxn][maxn], vis[maxn];</div><div class="line"><span class="keyword">struct</span> point</div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> x, y;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">sc</span><span class="params">()</span> </span>&#123;	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;x, &amp;y); &#125;</div><div class="line">&#125;p[maxn];</div><div class="line"><span class="keyword">struct</span> matrix</div><div class="line">&#123;</div><div class="line">	<span class="keyword">int</span> x1, y1, x2, y2;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">sc</span><span class="params">()</span> </span>&#123;	<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;x1, &amp;x2, &amp;y1, &amp;y2); &#125;</div><div class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">in</span><span class="params">(point t)</span> </span>&#123;	<span class="keyword">return</span> x1&lt;=t.x&amp;&amp;t.x&lt;=x2&amp;&amp;y1&lt;=t.y&amp;&amp;t.y&lt;=y2; &#125;</div><div class="line">&#125;mat[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Read</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)	mat[i].sc();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)	p[i].sc();</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Dfs</span><span class="params">(<span class="keyword">int</span> u)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> v=<span class="number">1</span>; v&lt;=n; v++) <span class="keyword">if</span>(!vis[v] &amp;&amp; mmp[u][v])</div><div class="line">	&#123;</div><div class="line">		vis[v]=<span class="literal">true</span>;</div><div class="line">		<span class="keyword">if</span>(!from[v] || Dfs(from[v]))</div><div class="line">		&#123;</div><div class="line">			from[v]=u;</div><div class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">debug</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; j++)</div><div class="line">			<span class="built_in">cout</span>&lt;&lt;(<span class="keyword">int</span>)mmp[i][j];</div><div class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Work</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"Heap %d\n"</span>, ++T);</div><div class="line"></div><div class="line">	<span class="built_in">memset</span>(mmp, <span class="literal">false</span>, <span class="keyword">sizeof</span> mmp);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; j++)</div><div class="line">			<span class="keyword">if</span>(mat[j].in(p[i]))</div><div class="line">				mmp[i][j]=<span class="literal">true</span>;</div><div class="line"></div><div class="line">	ans=<span class="number">0</span>;</div><div class="line">	<span class="built_in">memset</span>(from, <span class="number">0</span>, <span class="keyword">sizeof</span> from);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis);</div><div class="line">		ans+=Dfs(i);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(ans!=n)</div><div class="line">	&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"none\n\n"</span>);</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">bool</span> flag=<span class="literal">false</span>;</div><div class="line">	<span class="built_in">memcpy</span>(rec, from, <span class="keyword">sizeof</span> rec);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">	&#123;</div><div class="line">		mmp[rec[i]][i]=<span class="literal">false</span>;</div><div class="line"></div><div class="line">		ans=<span class="number">0</span>;</div><div class="line">		<span class="built_in">memset</span>(from, <span class="number">0</span>, <span class="keyword">sizeof</span> from);</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; j++)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis);</div><div class="line">			ans+=Dfs(j);</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>(ans!=n)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">if</span>(flag)	<span class="built_in">printf</span>(<span class="string">" "</span>);</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"(%c,%d)"</span>, i+<span class="string">'A'</span><span class="number">-1</span>, rec[i]);</div><div class="line">			flag=<span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">		mmp[rec[i]][i]=<span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(!flag)	<span class="built_in">printf</span>(<span class="string">"none"</span>);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n)!=EOF&amp;&amp;n)	Read(), Work();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šnä¸ªçŸ©å½¢nä¸ªç‚¹ï¼Œå°†çŸ©å½¢å’Œç‚¹ä¸€ä¸€å¯¹åº”ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å”¯ä¸€çš„é…å¯¹æƒ…å†µã€‚&lt;a href=&quot;http://poj.org/problem?id=1486&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="POJ" scheme="http://thea-r.github.io/tags/POJ/"/>
    
      <category term="äºŒåˆ†åŒ¹é…" scheme="http://thea-r.github.io/tags/%E4%BA%8C%E5%88%86%E5%8C%B9%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>HDU5835 Danganronpa</title>
    <link href="http://thea-r.github.io/2016/08/20/HDU5835-Danganronpa/"/>
    <id>http://thea-r.github.io/2016/08/20/HDU5835-Danganronpa/</id>
    <published>2016-08-20T10:06:30.000Z</published>
    <updated>2018-07-01T09:54:20.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2016 CCPCç½‘ç»œèµ›  </p>
<p>ã€€ã€€é¢˜æ„ï¼šæ¯æ¡Œæ”¾ä¸¤ä¸ªç‰©å“ï¼Œåˆ†åˆ«ä½œä¸ºç‰¹æ®Šç¤¼ç‰©å’Œæ™®é€šç¤¼ç‰©ï¼Œè¦æ±‚ä»»æ„ç›¸é‚»æ¡Œçš„ç‰¹æ®Šç¤¼ç‰©ä¸åŒç§ç±»ã€‚ç°åœ¨ç»™å®šnç§ç‰©å“çš„æ•°é‡ï¼Œæ±‚æœ€å¤šèƒ½å¸ƒç½®å¤šå°‘æ¡Œã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5835" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€å‡è®¾ç°åœ¨å·²ç»æ”¾äº†i-1ç§ç‰©å“ï¼Œè®°ç‰©å“æ€»æ•°ä¸ºsumï¼Œå…¶ä¸­éœ€è¦åŒç±»ç›¸é‚»ç‰©å“æœ‰ret+1ä¸ªã€‚åœ¨æ”¾ç½®ç¬¬iç§ç‰©å“æ—¶å¤„ç†ä¸‰ç§æƒ…å†µï¼š</p>
<ul>
<li>è‹¥a[i]&gt;=sumï¼Œåˆ™ç¬¬iç§ç‰©å“ä¸€ä¸€æ’ç©ºï¼Œæ›´æ–°ret</li>
<li>è‹¥a[i]&gt;=retï¼Œå…ˆæ’ç©ºéš”å¼€åŒç±»ç›¸é‚»ç‰©å“ï¼Œå‰©ä½™éšæ„æ’ç©ºï¼Œæ›´æ–°retä¸º0</li>
<li>è‹¥a[i]&lt;retï¼Œå…ˆæ’ç©ºéš”å¼€ç›¸é‚»ç‰©å“ï¼Œæ›´æ–°ret</li>
</ul>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">10</span>+<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, n, a[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> TT=<span class="number">1</span>; TT&lt;=T; TT++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</div><div class="line">        sort(a+<span class="number">1</span>, a+<span class="number">1</span>+n);</div><div class="line"></div><div class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>, ret=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=n; i&gt;=<span class="number">1</span>; i--)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(a[i]&gt;=sum)    ret=a[i]<span class="number">-1</span>-sum;</div><div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(a[i]&gt;=ret)    ret=<span class="number">0</span>;</div><div class="line">            <span class="keyword">else</span>    ret-=a[i];</div><div class="line">            sum+=a[i];</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>, TT, min(sum-ret, sum/<span class="number">2</span>));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2016 CCPCç½‘ç»œèµ›  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šæ¯æ¡Œæ”¾ä¸¤ä¸ªç‰©å“ï¼Œåˆ†åˆ«ä½œä¸ºç‰¹æ®Šç¤¼ç‰©å’Œæ™®é€šç¤¼ç‰©ï¼Œè¦æ±‚ä»»æ„ç›¸é‚»æ¡Œçš„ç‰¹æ®Šç¤¼ç‰©ä¸åŒç§ç±»ã€‚ç°åœ¨ç»™å®šnç§ç‰©å“çš„æ•°é‡ï¼Œæ±‚æœ€å¤šèƒ½å¸ƒç½®å¤šå°‘æ¡Œã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=5835&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2016CCPC" scheme="http://thea-r.github.io/tags/2016CCPC/"/>
    
      <category term="æ‚é¢˜" scheme="http://thea-r.github.io/tags/%E6%9D%82%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>HDU5862 Counting Intersections</title>
    <link href="http://thea-r.github.io/2016/08/19/HDU5862-Counting-Intersections/"/>
    <id>http://thea-r.github.io/2016/08/19/HDU5862-Counting-Intersections/</id>
    <published>2016-08-19T08:04:17.000Z</published>
    <updated>2018-07-01T09:54:23.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2016 Multi-University Training Contest 10  </p>
<p>ã€€ã€€é¢˜æ„ï¼šç»™å®šnæ¡å‚ç›´äºåæ ‡è½´çš„çº¿æ®µï¼Œæ±‚äº¤ç‚¹ä¸ªæ•°ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5862" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€é¢˜ç›®ä¸­çº¿æ®µè¢«é™åˆ¶ä¸ºå‚ç›´æˆ–æ°´å¹³ã€‚å°†çº¿æ®µåæ ‡ç¦»æ•£åŒ–åï¼ŒæŒ‰çºµåæ ‡ä»å°åˆ°å¤§æ‰«æã€‚é‡åˆ°å‚ç›´çº¿æ®µçš„ä¸‹ç«¯ç‚¹ï¼Œåˆ™æ’å…¥è¯¥çº¿æ®µçš„æ¨ªåæ ‡å€¼ï¼›é‡åˆ°æ°´å¹³çº¿æ®µï¼Œåˆ™æŸ¥è¯¢x1[i]åˆ°x2[i]çš„åŒºé—´å’Œï¼›é‡åˆ°å‚ç›´çº¿æ®µçš„ä¸Šç«¯ç‚¹ï¼Œåˆ™åˆ é™¤è¯¥çº¿æ®µçš„æ¨ªåæ ‡å€¼ã€‚çº¿æ®µæ ‘ã€æ ‘çŠ¶æ•°ç»„å‡å¯ä»¥ç»´æŠ¤ã€‚<br>ã€€ã€€éœ€è¦æ³¨æ„çš„æ˜¯çºµåæ ‡ç›¸åŒæ—¶ï¼Œä¸‰ç§æ“ä½œçš„é¡ºåºä¸èƒ½å˜ã€‚ç¬¬ä¸€æ¬¡çš„ä»£ç å¼€äº†ä¸‰ä¸ªvectoræ¥è®°å½•ä¸‰ç§æ“ä½œåºåˆ—ï¼Œç»“æœMLEâ€¦ åæ¥æ”¹äº†ä¸€ä¸‹ï¼Œåªç”¨ä¸€ä¸ªvectoræ¥è®°å½•ç›¸åŒçºµåæ ‡çš„ç‚¹ï¼Œæ¯ç§æ“ä½œèµ‹ä¼˜å…ˆçº§0ã€1ã€2ï¼Œåœ¨å¤„ç†æ¯ä¸€ä¸ªvectoræ—¶å…ˆè¿›è¡Œå†…éƒ¨æ’åºï¼Œ2418MS ACã€‚ä¸¤ä»½ä»£ç å‡åœ¨ä¸‹æ–¹ç»™å‡ºã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ACä»£ç </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(x) ((x)&amp;-(x))</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span> + <span class="number">10</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> lint;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, n, N, M, a[maxn&lt;&lt;<span class="number">1</span>], b[maxn&lt;&lt;<span class="number">1</span>], s[maxn&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="keyword">struct</span> line</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> x1, y1, x2, y2, d;</div><div class="line">    line(<span class="keyword">int</span> xx1=<span class="number">0</span>, <span class="keyword">int</span> yy1=<span class="number">0</span>, <span class="keyword">int</span> xx2=<span class="number">0</span>, <span class="keyword">int</span> yy2=<span class="number">0</span>) &#123; x1=xx1, y1=yy1, x2=xx2, y2=yy2; &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></div><div class="line">    </span>&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2);</div><div class="line">        <span class="keyword">if</span>(x1&gt;x2)    swap(x1, x2);</div><div class="line">        <span class="keyword">if</span>(y1&gt;y2)    swap(y1, y2);</div><div class="line">        a[++N]=x1, a[++N]=x2, b[++M]=y1, b[++M]=y2;</div><div class="line">        <span class="keyword">return</span> ;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hash</span><span class="params">()</span></div><div class="line">    </span>&#123;</div><div class="line">        x1=lower_bound(a+<span class="number">1</span>, a+<span class="number">1</span>+N, x1)-a, x2=lower_bound(a+<span class="number">1</span>, a+<span class="number">1</span>+N, x2)-a;</div><div class="line">        y1=lower_bound(b+<span class="number">1</span>, b+<span class="number">1</span>+M, y1)-b, y2=lower_bound(b+<span class="number">1</span>, b+<span class="number">1</span>+M, y2)-b;</div><div class="line">        <span class="keyword">return</span> ;</div><div class="line">    &#125;</div><div class="line">&#125;seg[maxn];</div><div class="line"><span class="keyword">struct</span> node</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> d, idx;</div><div class="line">    node(<span class="keyword">int</span> dd=<span class="number">0</span>, <span class="keyword">int</span> idxx=<span class="number">0</span>) &#123; d=dd, idx=idxx; &#125;</div><div class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> node&amp;t)<span class="keyword">const</span> &#123; <span class="keyword">return</span> d&lt;t.d; &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">vector</span>&lt;node&gt; vct[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> val)</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=x; i&lt;=N; i+=lowbit(i))    s[i]+=val;</div><div class="line">    <span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> ans=<span class="number">0</span>)</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=x; i; i-=lowbit(i))    ans+=s[i];</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Clear</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=M; i++)    vct[i].clear();</div><div class="line">    <span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="keyword">sizeof</span> s);</div><div class="line">    N=M=<span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)    seg[i].read();</div><div class="line"></div><div class="line">        sort(a+<span class="number">1</span>, a+<span class="number">1</span>+N);</div><div class="line">        sort(b+<span class="number">1</span>, b+<span class="number">1</span>+M);</div><div class="line">        N=unique(a+<span class="number">1</span>, a+<span class="number">1</span>+N)-a<span class="number">-1</span>;</div><div class="line">        M=unique(b+<span class="number">1</span>, b+<span class="number">1</span>+M)-b<span class="number">-1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)    seg[i].hash();</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(seg[i].y1==seg[i].y2)    vct[seg[i].y1].push_back(node(<span class="number">1</span>, i));</div><div class="line">            <span class="keyword">else</span> vct[seg[i].y1].push_back(node(<span class="number">0</span>, i)), vct[seg[i].y2].push_back(node(<span class="number">2</span>, i));</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        lint ans=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=M; i++)</div><div class="line">        &#123;</div><div class="line">            sort(vct[i].begin(), vct[i].end());</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>, len=vct[i].size(); j&lt;len; j++)</div><div class="line">            &#123;</div><div class="line">                <span class="keyword">if</span>(vct[i][j].d==<span class="number">0</span>)    Add(seg[vct[i][j].idx].x1, <span class="number">1</span>);</div><div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(vct[i][j].d==<span class="number">2</span>)    Add(seg[vct[i][j].idx].x1, <span class="number">-1</span>);</div><div class="line">                <span class="keyword">else</span> ans+=Query(seg[vct[i][j].idx].x2)-Query(seg[vct[i][j].idx].x1<span class="number">-1</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">        Clear();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//MLEä»£ç </span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(x) ((x)&amp;-(x))</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1e6</span> + <span class="number">10</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> lint;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, n, N, M, a[maxn&lt;&lt;<span class="number">1</span>], b[maxn&lt;&lt;<span class="number">1</span>], s[maxn&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vct1[maxn&lt;&lt;<span class="number">1</span>], vct2[maxn&lt;&lt;<span class="number">1</span>], vct3[maxn&lt;&lt;<span class="number">1</span>];</div><div class="line"><span class="keyword">struct</span> line</div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> x1, y1, x2, y2, d;</div><div class="line">    line(<span class="keyword">int</span> xx1=<span class="number">0</span>, <span class="keyword">int</span> yy1=<span class="number">0</span>, <span class="keyword">int</span> xx2=<span class="number">0</span>, <span class="keyword">int</span> yy2=<span class="number">0</span>) &#123; x1=xx1, y1=yy1, x2=xx2, y2=yy2; &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></div><div class="line">    </span>&#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2);</div><div class="line">        <span class="keyword">if</span>(x1&gt;x2)    swap(x1, x2);</div><div class="line">        <span class="keyword">if</span>(y1&gt;y2)    swap(y1, y2);</div><div class="line">        a[++N]=x1, a[++N]=x2, b[++M]=y1, b[++M]=y2;</div><div class="line">        <span class="keyword">return</span> ;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">hash</span><span class="params">()</span></div><div class="line">    </span>&#123;</div><div class="line">        x1=lower_bound(a+<span class="number">1</span>, a+<span class="number">1</span>+N, x1)-a, x2=lower_bound(a+<span class="number">1</span>, a+<span class="number">1</span>+N, x2)-a;</div><div class="line">        y1=lower_bound(b+<span class="number">1</span>, b+<span class="number">1</span>+M, y1)-b, y2=lower_bound(b+<span class="number">1</span>, b+<span class="number">1</span>+M, y2)-b;</div><div class="line">        <span class="keyword">return</span> ;</div><div class="line">    &#125;</div><div class="line">&#125;seg[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> val)</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=x; i&lt;=N; i+=lowbit(i))    s[i]+=val;</div><div class="line">    <span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">Query</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> ans=<span class="number">0</span>)</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=x; i; i-=lowbit(i))    ans+=s[i];</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Clear</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;=M; i++)    vct1[i].clear(), vct2[i].clear(), vct3[i].clear();</div><div class="line">    <span class="built_in">memset</span>(s, <span class="number">0</span>, <span class="keyword">sizeof</span> s);</div><div class="line">    N=M=<span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)    seg[i].read();</div><div class="line"></div><div class="line">        sort(a+<span class="number">1</span>, a+<span class="number">1</span>+N);</div><div class="line">        sort(b+<span class="number">1</span>, b+<span class="number">1</span>+M);</div><div class="line">        N=unique(a+<span class="number">1</span>, a+<span class="number">1</span>+N)-a<span class="number">-1</span>;</div><div class="line">        M=unique(b+<span class="number">1</span>, b+<span class="number">1</span>+M)-b<span class="number">-1</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)    seg[i].hash();</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span>(seg[i].y1==seg[i].y2)    vct1[seg[i].y1].push_back(i);</div><div class="line">            <span class="keyword">else</span> vct2[seg[i].y1].push_back(i), vct3[seg[i].y2].push_back(i);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        lint ans=<span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=M; i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>, len=vct2[i].size(); j&lt;len; j++)    Add(seg[vct2[i][j]].x1, <span class="number">1</span>);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>, len=vct1[i].size(); j&lt;len; j++)    ans+=Query(seg[vct1[i][j]].x2)-Query(seg[vct1[i][j]].x1<span class="number">-1</span>);</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>, len=vct3[i].size(); j&lt;len; j++)    Add(seg[vct3[i][j]].x1, <span class="number">-1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</div><div class="line"></div><div class="line">        Clear();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2016 Multi-University Training Contest 10  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šnæ¡å‚ç›´äºåæ ‡è½´çš„çº¿æ®µï¼Œæ±‚äº¤ç‚¹ä¸ªæ•°ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=5862&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2016å¤šæ ¡" scheme="http://thea-r.github.io/tags/2016%E5%A4%9A%E6%A0%A1/"/>
    
      <category term="æ ‘çŠ¶æ•°ç»„" scheme="http://thea-r.github.io/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"/>
    
  </entry>
  
  <entry>
    <title>HDU5861 Road</title>
    <link href="http://thea-r.github.io/2016/08/19/HDU5861-Road/"/>
    <id>http://thea-r.github.io/2016/08/19/HDU5861-Road/</id>
    <published>2016-08-19T08:04:03.000Z</published>
    <updated>2018-07-01T09:54:11.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2016 Multi-University Training Contest 10  </p>
<p>ã€€ã€€é¢˜æ„ï¼šä¸€æ¡å¤§é“è¢«nä¸ªæ‘åº„åˆ†æˆnï¼1æ¡è·¯ï¼Œæ¯æ¡é“è·¯å¼€æ”¾ä¸€å¤©çš„èŠ±è´¹ä¸ºc[i]ï¼Œé“è·¯åˆå§‹ä¸ºå…³é—­çŠ¶æ€ï¼Œå¯ä»¥ä»»æ„é€‰æ‹©å¼€æ”¾æˆ–å…³é—­æŸæ¡é“è·¯ï¼Œé“è·¯è¢«å…³é—­åä¸èƒ½å†æ¬¡å¼€æ”¾ã€‚ç°åœ¨æœ‰må¤©çš„è¿è¾“ä»»åŠ¡ï¼Œæ¯å¤©ä»æ‘åº„l[i]è¿è¾“è´§ç‰©åˆ°æ‘åº„r[i]ï¼Œè¦æ±‚è¿è¾“è·¯ç¨‹ä¸­çš„æ‰€æœ‰é“è·¯å‡ä¸ºå¼€æ”¾çŠ¶æ€ã€‚æ±‚æ»¡è¶³è¿è¾“ä»»åŠ¡å‰æä¸‹çš„æœ€å°èŠ±è´¹ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5861" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€æ­£ååšä¸¤æ¬¡çº¿æ®µæ ‘åŒºé—´è¦†ç›–ï¼Œå¾—åˆ°ç¬¬iæ¡é“è·¯æœ€æ—©å’Œæœ€æ™šçš„å ç”¨æ—¶é—´ï¼Œæ ‘çŠ¶æ•°ç»„ç»´æŠ¤æ¯å¤©çš„æ€»èŠ±è´¹ã€‚<br>ã€€ã€€å°trickï¼Œè¾“å…¥æ•°æ®ä¸ä¿è¯l[i]&gt;r[i]ã€‚èµ›æ—¶ä¸€æ¬¡ACï¼ŒhappyâœŒï¸  </p>
<p><br></p>
<hr>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div></pre></td><td class="code"><pre><div class="line">#include&lt;iostream&gt;</div><div class="line">#include&lt;cstdlib&gt;</div><div class="line">#include&lt;cstring&gt;</div><div class="line">#include&lt;vector&gt;</div><div class="line">#include&lt;cstdio&gt;</div><div class="line">#include&lt;cmath&gt;</div><div class="line">#include&lt;algorithm&gt;</div><div class="line">#define kl (k&lt;&lt;1)</div><div class="line">#define kr ((k&lt;&lt;1)+1)</div><div class="line">#define mid ((l+r)&gt;&gt;1)</div><div class="line">#define lowbit(x) ((x)&amp;-(x))</div><div class="line">using namespace std;</div><div class="line">const int maxn=2*1e5 + 10, INF=0x7f7f7f7f;</div><div class="line">typedef long long lint;</div><div class="line"></div><div class="line">int n, m, a[maxn], ql[maxn], qr[maxn];</div><div class="line">lint s[maxn];</div><div class="line">vector&lt;int&gt; vct[maxn];</div><div class="line">struct node</div><div class="line">&#123;</div><div class="line">    int x[2];</div><div class="line">    node(int l=0, int r=0, int c=0)&#123; x[0]=l, x[1]=r; &#125;</div><div class="line">&#125;tr[maxn&lt;&lt;2];</div><div class="line"></div><div class="line">void Build(int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">    tr[k].x[0]=tr[k].x[1]=-INF;</div><div class="line">    if(l==r)    return ;</div><div class="line">    Build(kl, l, mid);</div><div class="line">    Build(kr, mid+1, r);</div><div class="line">    return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Push_down(int k, int f)</div><div class="line">&#123;</div><div class="line">    tr[kl].x[f]=max(tr[kl].x[f], tr[k].x[f]);</div><div class="line">    tr[kr].x[f]=max(tr[kr].x[f], tr[k].x[f]);</div><div class="line">    return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Insert(int ll, int rr, int f, int val, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">    if(rr &lt;l||r&lt; ll)    return ;</div><div class="line">    if(ll&lt;=l&amp;&amp;r&lt;=rr)</div><div class="line">    &#123;</div><div class="line">        tr[k].x[f]=val;</div><div class="line">        return ;</div><div class="line">    &#125;</div><div class="line">    Push_down(k, f);</div><div class="line">    Insert(ll, rr, f, val, kl, l, mid);</div><div class="line">    Insert(ll, rr, f, val, kr, mid+1, r);</div><div class="line">    return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Add(int x, int val)</div><div class="line">&#123;</div><div class="line">    for(int i=x; i&lt;=m; i+=lowbit(i))    s[i]+=val;</div><div class="line">    return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">lint Get(int x, lint sum=0)</div><div class="line">&#123;</div><div class="line">    for(int i=x; i; i-=lowbit(i))    sum+=s[i];</div><div class="line">    return sum;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void Query(int x, int &amp;ll, int &amp;rr, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">    if(l==r)</div><div class="line">    &#123;</div><div class="line">        ll=tr[k].x[0], rr=tr[k].x[1];</div><div class="line">        return ;</div><div class="line">    &#125;</div><div class="line">    Push_down(k, 0);</div><div class="line">    Push_down(k, 1);</div><div class="line">    if(x&lt;=mid)    Query(x, ll, rr, kl, l, mid);</div><div class="line">    else Query(x, ll, rr, kr, mid+1, r);</div><div class="line">    return ;</div><div class="line">&#125;</div><div class="line"></div><div class="line">int main()</div><div class="line">&#123;</div><div class="line">    while(scanf("%d%d", &amp;n, &amp;m)!=EOF)</div><div class="line">    &#123;</div><div class="line">        for(int i=1; i&lt;n; i++)    scanf("%d", &amp;a[i]);</div><div class="line">        for(int i=1; i&lt;=m; i++)</div><div class="line">        &#123;</div><div class="line">            scanf("%d%d", &amp;ql[i], &amp;qr[i]);</div><div class="line">            if(ql[i]&gt;qr[i])    swap(ql[i], qr[i]);</div><div class="line">            --qr[i];</div><div class="line">        &#125;</div><div class="line">        Build();</div><div class="line">        for(int i=1; i&lt;=m; i++)    Insert(ql[i], qr[i], 0, i);</div><div class="line">        for(int i=m; i&gt;=1; i--)    Insert(ql[i], qr[i], 1, m-i+1);</div><div class="line"></div><div class="line">        for(int i=1, ll, rr; i&lt;n; i++)</div><div class="line">        &#123;</div><div class="line">            Query(i, rr, ll);</div><div class="line">            if(rr==-INF)    continue;</div><div class="line">            Add(m-ll+1, a[i]);</div><div class="line">            Add(rr+1, -a[i]);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        for(int i=1; i&lt;=m; i++)    printf("%lld\n", Get(i));</div><div class="line"></div><div class="line">        memset(s, 0, sizeof s);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2016 Multi-University Training Contest 10  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šä¸€æ¡å¤§é“è¢«nä¸ªæ‘åº„åˆ†æˆnï¼1æ¡è·¯ï¼Œæ¯æ¡é“è·¯å¼€æ”¾ä¸€å¤©çš„èŠ±è´¹ä¸ºc[i]ï¼Œé“è·¯åˆå§‹ä¸ºå…³é—­çŠ¶æ€ï¼Œå¯ä»¥ä»»æ„é€‰æ‹©å¼€æ”¾æˆ–å…³é—­æŸæ¡é“è·¯ï¼Œé“è·¯è¢«å…³é—­åä¸èƒ½å†æ¬¡å¼€æ”¾ã€‚ç°åœ¨æœ‰må¤©çš„è¿è¾“ä»»åŠ¡ï¼Œæ¯å¤©ä»æ‘åº„l[i]è¿è¾“è´§ç‰©åˆ°æ‘åº„r[i]ï¼Œè¦æ±‚è¿è¾“è·¯ç¨‹ä¸­çš„æ‰€æœ‰é“è·¯å‡ä¸ºå¼€æ”¾çŠ¶æ€ã€‚æ±‚æ»¡è¶³è¿è¾“ä»»åŠ¡å‰æä¸‹çš„æœ€å°èŠ±è´¹ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=5861&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="çº¿æ®µæ ‘" scheme="http://thea-r.github.io/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2016å¤šæ ¡" scheme="http://thea-r.github.io/tags/2016%E5%A4%9A%E6%A0%A1/"/>
    
      <category term="æ ‘çŠ¶æ•°ç»„" scheme="http://thea-r.github.io/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"/>
    
      <category term="æ‰«æçº¿" scheme="http://thea-r.github.io/tags/%E6%89%AB%E6%8F%8F%E7%BA%BF/"/>
    
  </entry>
  
  <entry>
    <title>HDU5860 Death Sequence</title>
    <link href="http://thea-r.github.io/2016/08/19/HDU5860-Death-Sequence/"/>
    <id>http://thea-r.github.io/2016/08/19/HDU5860-Death-Sequence/</id>
    <published>2016-08-19T06:17:11.000Z</published>
    <updated>2018-07-01T09:54:00.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2016 Multi-University Training Contest 10  </p>
<p>ã€€ã€€é¢˜æ„ï¼šnä¸ªäººæŠ¥æ•°ï¼Œæ¯ä¸€è½®æŠ¥æ•°(i*k+1)çš„äººæ·˜æ±°ï¼Œåˆ°é˜Ÿåˆ—æœ«å°¾åå‰©ä½™äººå‘˜è¿›è¡Œæ–°ä¸€è½®æŠ¥æ•°ï¼Œç›´è‡³å…¨å‘˜æ·˜æ±°ã€‚ç»™å®šmæ¬¡æŸ¥è¯¢ï¼Œæ±‚ç¬¬jä¸ªå‡ºé˜Ÿè€…çš„åºå·ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5860" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€ç±»çº¦ç‘Ÿå¤«é—®é¢˜ï¼Œä½†æ˜¯ä¸æˆç¯ã€‚<br>ã€€ã€€æœ¬é¢˜ç§å½“å‰æ€»äººæ•°ä¸ºnï¼Œç¼–å·1-nï¼Œåˆ™æœ¬è½®i%k==1çš„äººæ·˜æ±°ï¼Œæ·˜æ±°æ€»äººæ•°ä¸º(n+k-1)/kã€‚å‰©ä¸‹çš„äººä»1å¼€å§‹é‡ç¼–å·ï¼Œé‡å¤ä¸Šä¸€è½®çš„è¿‡ç¨‹ã€‚è®¾iä¸ºç¬¬f[i]è½®ç¬¬g[i]ä¸ªå‡ºå±€ï¼Œåˆ™æœ‰ä»¥ä¸‹é€’æ¨å…³ç³»å¼ï¼š<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">f[i]=(i%k==<span class="number">1</span>) ? <span class="number">1</span> : f[i-(i+k<span class="number">-1</span>)/k]+<span class="number">1</span>;</div><div class="line">g[i]=(i%k==<span class="number">1</span>) ? (i+k<span class="number">-1</span>)/k : g[i-(i+k<span class="number">-1</span>)/k];</div></pre></td></tr></table></figure></p>
<p>ã€€ã€€é¢„å¤„ç†å‡ºå‰jè½®æ·˜æ±°çš„æ€»äººæ•°cnt[j]ï¼Œåˆ™içš„å‡ºé˜Ÿåºå·ä¸ºcnt[f[i]-1]+g[i]ã€‚  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">3</span>*<span class="number">1e6</span> + <span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> T, n, m, k;</div><div class="line"><span class="keyword">int</span> tot, cnt[maxn], f[maxn], g[maxn], ans[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</div><div class="line">    <span class="keyword">while</span>(T--)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n, &amp;k, &amp;m);</div><div class="line"></div><div class="line">        tot=<span class="number">0</span>;</div><div class="line">        <span class="built_in">memset</span>(cnt, <span class="number">0</span>, <span class="keyword">sizeof</span> cnt);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> tmp=n; tmp; tmp-=cnt[tot]-cnt[tot<span class="number">-1</span>])</div><div class="line">        &#123;</div><div class="line">            cnt[++tot]=(tmp+k<span class="number">-1</span>)/k;</div><div class="line">            cnt[tot]+=cnt[tot<span class="number">-1</span>];</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span> f);</div><div class="line">        <span class="built_in">memset</span>(g, <span class="number">0</span>, <span class="keyword">sizeof</span> g);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">        &#123;</div><div class="line">            f[i]=(i%k==<span class="number">1</span>) ? <span class="number">1</span> : f[i-(i+k<span class="number">-1</span>)/k]+<span class="number">1</span>;</div><div class="line">            g[i]=(i%k==<span class="number">1</span>) ? (i+k<span class="number">-1</span>)/k : g[i-(i+k<span class="number">-1</span>)/k];</div><div class="line">            ans[cnt[f[i]<span class="number">-1</span>]+g[i]]=i;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>, x; i&lt;=m; i++)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans[x]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2016 Multi-University Training Contest 10  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šnä¸ªäººæŠ¥æ•°ï¼Œæ¯ä¸€è½®æŠ¥æ•°(i*k+1)çš„äººæ·˜æ±°ï¼Œåˆ°é˜Ÿåˆ—æœ«å°¾åå‰©ä½™äººå‘˜è¿›è¡Œæ–°ä¸€è½®æŠ¥æ•°ï¼Œç›´è‡³å…¨å‘˜æ·˜æ±°ã€‚ç»™å®šmæ¬¡æŸ¥è¯¢ï¼Œæ±‚ç¬¬jä¸ªå‡ºé˜Ÿè€…çš„åºå·ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=5860&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2016å¤šæ ¡" scheme="http://thea-r.github.io/tags/2016%E5%A4%9A%E6%A0%A1/"/>
    
      <category term="é€’æ¨" scheme="http://thea-r.github.io/tags/%E9%80%92%E6%8E%A8/"/>
    
  </entry>
  
  <entry>
    <title>HDU5838 Mountain</title>
    <link href="http://thea-r.github.io/2016/08/16/HDU5838-Mountain/"/>
    <id>http://thea-r.github.io/2016/08/16/HDU5838-Mountain/</id>
    <published>2016-08-16T10:03:52.000Z</published>
    <updated>2018-07-01T09:54:16.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2016 CCPCç½‘ç»œèµ›  </p>
<p>ã€€ã€€é¢˜æ„ï¼šç»™å®šn*mçš„æ–¹æ ¼åŠæ‰€æœ‰çš„å±€éƒ¨æœ€å°å€¼ä½ç½®ï¼Œæ”¾å…¥æ•°1ï¼n*mï¼Œæ±‚å¯èƒ½çš„æ–¹æ¡ˆã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5838" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€èµ›æ—¶å†™äº†ä¸€å‘BFSï¼Œä»å°åˆ°å¤§å¡«æ•°ï¼Œå¡«æ»¡å±€éƒ¨æœ€å°å€¼åä¹˜ä¸Šå‰©ä½™æ–¹æ ¼æ•°çš„é˜¶ä¹˜ï¼Œé—®é¢˜åœ¨äºæ— æ³•ä¿è¯å‰©ä½™æ–¹æ ¼æ•°ä¸ºéå±€éƒ¨æœ€å°å€¼ã€‚èµ›åæ‰çŸ¥é“è¿™æ˜¯æˆ‘CQOI2012åŸé¢˜ï¼Œç„¶è€Œå¹¶æ²¡æœ‰åšè¿‡ï¼ ï¼<br>ã€€ã€€è€ƒè™‘è¿™é“é¢˜çš„è§„æ¨¡å¯ä»¥çŠ¶æ€å‹ç¼©ï¼Œæ€»å…±25ä¸ªæ•°ï¼Œæœ€å¤š9ä¸ªå±€éƒ¨æœ€å°å€¼ï¼Œç”¨f[i][j]è¡¨ç¤ºæ”¾å…¥å‰iä¸ªæ•°ï¼Œæ‰€æœ‰å±€éƒ¨æœ€å°å€¼çš„çŠ¶æ€ä¸ºjæ—¶çš„æ€»æ–¹æ¡ˆæ•°ã€‚å¡«æ•°æ—¶é¢„å¤„ç†cnt[j]ï¼Œè®¡ç®—å‡ºjçŠ¶æ€ä¸‹åŒ…æ‹¬å±€éƒ¨æœ€å°å€¼åœ¨å†…çš„æ‰€æœ‰å¯æ”¾çš„æ ¼å­æ•°ï¼ŒçŠ¶æ€è½¬ç§»å¯ä»¥è¡¨ç¤ºä¸ºï¼š<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">f[i][j]=f[i<span class="number">-1</span>][j]*(cnt[j]-(i<span class="number">-1</span>))+sig(f[i<span class="number">-1</span>][j^(<span class="number">1</span>&lt;&lt;k)])(j&amp;(<span class="number">1</span>&lt;&lt;k)==<span class="number">1</span>)</div></pre></td></tr></table></figure></p>
<p>ã€€ã€€è¦ç¡®ä¿éå±€éƒ¨æœ€å°å€¼åˆ™éœ€è¦æšä¸¾åŸçŠ¶æ€ä¸‹å¯èƒ½çš„å±€éƒ¨æœ€å°å€¼ï¼Œå®¹æ–¥å³å¯ã€‚å› ä¸ºè‡ªå·±å†™å®¹æ–¥æ¯”è¾ƒå°‘ï¼Œæ•´ä¸ªç¨‹åºå­¦ä¹ çš„<a href="http://blog.csdn.net/popoqqq/article/details/48028773" target="_blank" rel="external">è¿™ç¯‡åšå®¢</a>ï¼Œå¥½åƒå¯¹å®¹æ–¥æ›´ç†è§£äº†ä¸€ç‚¹&gt;&lt;<br>ã€€ã€€ç„¶è€Œso sadï¼Œå†™äº†ä¸¤å¤©çš„ç¨‹åºï¼Œ<a href="http://www.lydsy.com/JudgeOnline/problem.php?id=2669" target="_blank" rel="external">CQOIåŸé¢˜</a>éƒ½ACäº†ï¼Œå´ä¸€ç›´é€šä¸è¿‡æ­ç”µçš„æ•°æ®T T<br>ã€€ã€€äººç”Ÿæ€»æ˜¯è‰°éš¾ï¼Œè¿™æ¸¸æˆä¸æƒ³ç©äº†ï¼Œbugç•™åˆ°ä»¥ådeå§â€¦  </p>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp(a, b) (make_pair(a, b))</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">5</span>+<span class="number">10</span>, maxm=(<span class="number">1</span>&lt;&lt;<span class="number">10</span>)+<span class="number">10</span>, mod=<span class="number">772002</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> lint;</div><div class="line"></div><div class="line"><span class="keyword">int</span> ans, T, n, m, dd[<span class="number">9</span>][<span class="number">2</span>]=&#123;<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</div><div class="line"><span class="keyword">char</span> mp[maxn][maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Judge</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m; j++) <span class="keyword">if</span>(mp[i][j]==<span class="string">'X'</span>)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;<span class="number">8</span>; k++)</div><div class="line">				<span class="keyword">if</span>(mp[i+dd[k][<span class="number">0</span>]][j+dd[k][<span class="number">1</span>]]==<span class="string">'X'</span>)	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">DP</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; vct;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m; j++) <span class="keyword">if</span>(mp[i][j]==<span class="string">'X'</span>)</div><div class="line">			vct.push_back(mp(i, j));</div><div class="line"></div><div class="line">	<span class="keyword">int</span> len=vct.size(), lim=(<span class="number">1</span>&lt;&lt;vct.size()), tmp=n*m;</div><div class="line">	<span class="keyword">int</span> cnt[maxm]=&#123;<span class="number">0</span>&#125;, f[maxn*maxn][maxm]=&#123;<span class="number">0</span>&#125;;</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> st=<span class="number">0</span>; st&lt;lim; st++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">bool</span> u[maxn][maxn]=&#123;<span class="literal">false</span>&#125;;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)</div><div class="line">			<span class="keyword">if</span>(!(st&amp;(<span class="number">1</span>&lt;&lt;i))) u[vct[i].first][vct[i].second]=<span class="literal">true</span>;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=m; j++)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">bool</span> f=<span class="literal">true</span>;</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;<span class="number">9</span>&amp;&amp;f; k++) f&amp;=!u[i+dd[k][<span class="number">0</span>]][j+dd[k][<span class="number">1</span>]];</div><div class="line">				f&amp;&amp;(++cnt[st]);</div><div class="line">			&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	f[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=tmp; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> st=<span class="number">0</span>; st&lt;lim; st++) </div><div class="line">		&#123;</div><div class="line">			f[i][st]=(f[i][st]+(lint)f[i<span class="number">-1</span>][st]*max(cnt[st]-i+<span class="number">1</span>, <span class="number">0</span>)%mod)%mod;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;len; j++) <span class="keyword">if</span>(st&amp;(<span class="number">1</span>&lt;&lt;j))</div><div class="line">				f[i][st]=(f[i][st]+f[i<span class="number">-1</span>][st^(<span class="number">1</span>&lt;&lt;j)])%mod;</div><div class="line">		&#125;</div><div class="line">	<span class="keyword">return</span> f[tmp][lim<span class="number">-1</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> cnt)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">if</span>(x==n+<span class="number">1</span>)</div><div class="line">	&#123;</div><div class="line">		ans=(ans+DP()*(cnt&amp;<span class="number">1</span> ? <span class="number">-1</span> : <span class="number">1</span>)+mod)%mod;</div><div class="line">		<span class="keyword">return</span> ;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">int</span> tx=(y==m ? x+<span class="number">1</span> : x), ty=(y==m ? <span class="number">1</span> : y+<span class="number">1</span>);</div><div class="line">	Dfs(tx, ty, cnt);</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">9</span>; i++) <span class="keyword">if</span>(mp[x+dd[i][<span class="number">0</span>]][y+dd[i][<span class="number">1</span>]]==<span class="string">'X'</span>)	<span class="keyword">return</span> ;</div><div class="line"></div><div class="line">	mp[x][y]=<span class="string">'X'</span>;</div><div class="line">	Dfs(tx, ty, cnt+<span class="number">1</span>);</div><div class="line">	mp[x][y]=<span class="string">'.'</span>;</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m)!=EOF)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)	<span class="built_in">scanf</span>(<span class="string">"%s"</span>, mp[i]+<span class="number">1</span>);</div><div class="line">		<span class="keyword">if</span>(!Judge())	<span class="built_in">printf</span>(<span class="string">"Case #%d: 0\n"</span>, ++T);</div><div class="line">		<span class="keyword">else</span>	ans=<span class="number">0</span>, Dfs(<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), <span class="built_in">printf</span>(<span class="string">"Case #%d: %d\n"</span>, ++T, ans);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2016 CCPCç½‘ç»œèµ›  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šn*mçš„æ–¹æ ¼åŠæ‰€æœ‰çš„å±€éƒ¨æœ€å°å€¼ä½ç½®ï¼Œæ”¾å…¥æ•°1ï¼n*mï¼Œæ±‚å¯èƒ½çš„æ–¹æ¡ˆã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=5838&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2016CCPC" scheme="http://thea-r.github.io/tags/2016CCPC/"/>
    
      <category term="çŠ¶å‹DP" scheme="http://thea-r.github.io/tags/%E7%8A%B6%E5%8E%8BDP/"/>
    
      <category term="å®¹æ–¥" scheme="http://thea-r.github.io/tags/%E5%AE%B9%E6%96%A5/"/>
    
  </entry>
  
  <entry>
    <title>HDU5727 Necklace</title>
    <link href="http://thea-r.github.io/2016/08/15/HDU5727-Necklace/"/>
    <id>http://thea-r.github.io/2016/08/15/HDU5727-Necklace/</id>
    <published>2016-08-15T07:40:27.000Z</published>
    <updated>2018-07-01T09:54:07.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2016 Multi-University Training Contest 1  </p>
<p>ã€€ã€€é¢˜æ„ï¼šç»™å®šè‹¥å¹²é˜´é˜³ç å­äº¤é”™æ’åˆ—æˆç¯ï¼Œæœ‰äº›é˜³ç ä¸ç‰¹å®šçš„é˜´ç ç›¸é‚»æ—¶ä¼šè¤ªè‰²ï¼Œæ±‚æœ€å°‘çš„è¤ªè‰²æ•°ã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5727" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯äºŒåˆ†å›¾è·‘æœ€ä½³åŒ¹é…ï¼Œæƒ³äº†å¥½ä¹…ç¡®å®æ²¡æ‰¾åˆ°æ­£ç¡®çš„è½¬ç§»â€¦<br>ã€€ã€€å®˜æ–¹é¢˜è§£æ˜¯æœç´¢ï¼‹ä¼°ä»·å‰ªæï¼Œåæ¥å‚è€ƒçš„æ˜¯ç½‘ä¸Šå¾ˆå¤šåšå®¢ä¸Šçš„åšæ³•ï¼šå›ºå®šé˜´ç ï¼Œåˆ¤æ–­é˜³ç æ’å…¥æ¯ä¸€ä¸ªä½ç½®çš„æƒ…å†µï¼Œè‹¥ä¸è¤ªè‰²åˆ™è¿è¾¹ï¼Œminï¼ˆn-æœ€å¤§åŒ¹é…ï¼‰å³æœ€ç»ˆç­”æ¡ˆã€‚  </p>
<ul>
<li>æˆç¯æ—¶å¯ä»¥å›ºå®šä¸€ä¸ªä½ç½®ï¼Œå‰©ä¸‹çš„è¿›è¡Œå…¨æ’åˆ—ï¼Œæ€»æ–¹æ¡ˆä¸ºï¼ˆn-1ï¼‰! </li>
<li>next_permutationï¼ˆï¼‰å¾ˆå®ç”¨ï¼Œå­¦ä¹ é“¾æ¥æˆ³<a href="http://www.cnblogs.com/kuangbin/archive/2012/03/30/2424482.html" target="_blank" rel="external">è¿™å„¿</a>  </li>
</ul>
<p><br></p>
<hr>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">9</span>+<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n, m, a[maxn], dis, from[maxn];</div><div class="line"><span class="keyword">bool</span> br[maxn][maxn], st[maxn][maxn], vis[maxn];</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="built_in">memset</span>(br, <span class="literal">false</span>, <span class="keyword">sizeof</span> br);</div><div class="line">	<span class="keyword">return</span> ;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Dfs</span><span class="params">(<span class="keyword">int</span> u)</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(vis[i] || !st[u][i])	<span class="keyword">continue</span>;</div><div class="line">		vis[i]=<span class="literal">true</span>;</div><div class="line"></div><div class="line">		<span class="keyword">if</span>(!from[i] || Dfs(from[i]))</div><div class="line">		&#123;</div><div class="line">			from[i]=u;</div><div class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></div><div class="line"></span>&#123;</div><div class="line">	<span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m)!=EOF)</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">if</span>(!n)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"0\n"</span>);</div><div class="line">			<span class="keyword">continue</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		Init();</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>, u, v; i&lt;=m; i++)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</div><div class="line">			br[u][v]=<span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)	a[i]=i;</div><div class="line"></div><div class="line">		<span class="keyword">int</span> ans=n;</div><div class="line">		<span class="keyword">do</span></div><div class="line">		&#123;</div><div class="line">			<span class="built_in">memset</span>(st, <span class="literal">false</span>, <span class="keyword">sizeof</span> st);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			&#123;</div><div class="line">				<span class="keyword">if</span>(!br[i][a[<span class="number">1</span>]] &amp;&amp; !br[i][a[n]]) st[n][i]=<span class="literal">true</span>;</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;n; j++)</div><div class="line">					<span class="keyword">if</span>(!br[i][a[j]]&amp;&amp; !br[i][a[j+<span class="number">1</span>]]) st[j][i]=<span class="literal">true</span>;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="keyword">int</span> tmp=<span class="number">0</span>;</div><div class="line">			<span class="built_in">memset</span>(from, <span class="number">0</span>, <span class="keyword">sizeof</span> from);</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</div><div class="line">			&#123;</div><div class="line">				<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span> vis);</div><div class="line">				tmp+=Dfs(i);</div><div class="line">			&#125;</div><div class="line">			ans=min(ans, n-tmp);</div><div class="line">		&#125;<span class="keyword">while</span>(ans &amp;&amp; next_permutation(a+<span class="number">1</span>, a+<span class="number">1</span>+n<span class="number">-1</span>));</div><div class="line"></div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2016 Multi-University Training Contest 1  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šç»™å®šè‹¥å¹²é˜´é˜³ç å­äº¤é”™æ’åˆ—æˆç¯ï¼Œæœ‰äº›é˜³ç ä¸ç‰¹å®šçš„é˜´ç ç›¸é‚»æ—¶ä¼šè¤ªè‰²ï¼Œæ±‚æœ€å°‘çš„è¤ªè‰²æ•°ã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=5727&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2016å¤šæ ¡" scheme="http://thea-r.github.io/tags/2016%E5%A4%9A%E6%A0%A1/"/>
    
      <category term="æœç´¢" scheme="http://thea-r.github.io/tags/%E6%90%9C%E7%B4%A2/"/>
    
  </entry>
  
  <entry>
    <title>HDU5828 Rikka with Sequence</title>
    <link href="http://thea-r.github.io/2016/08/13/HDU5828-Rikka-with-Sequence/"/>
    <id>http://thea-r.github.io/2016/08/13/HDU5828-Rikka-with-Sequence/</id>
    <published>2016-08-13T14:46:36.000Z</published>
    <updated>2018-07-01T09:54:03.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>ã€€ã€€2016 Multi-University Training Contest 8  </p>
<p>ã€€ã€€é¢˜æ„ï¼šnå…ƒç´ åºåˆ—ï¼Œç»™å®šmç§æ“ä½œâ€”â€”åŒºé—´åŠ æ³•ï¼ŒåŒºé—´å¼€æ–¹ï¼ŒåŒºé—´æ±‚å’Œã€‚å¯¹äºæ¯ä¸ªæ±‚å’Œæ“ä½œï¼Œè¾“å‡ºç»“æœã€‚<a href="http://acm.hdu.edu.cn/showproblem.php?pid=5828" target="_blank" rel="external"> - åŸé¢˜é“¾æ¥</a><br><a id="more"></a>  </p>
<p>ã€€ã€€å¾ˆæ˜¾ç„¶çš„çº¿æ®µæ ‘ï¼Œç„¶è€Œç›´æ¥æ€è·¯ä¹Ÿå¾ˆæ˜¾ç„¶ä¼šTã€‚<br>ã€€ã€€èµ›æ—¶ä¸€ç›´åœ¨çº ç»“çº¿æ®µæ ‘åº”è¯¥ç»´æŠ¤ä»€ä¹ˆä¸œè¥¿ï¼Œè‹¥ç»´æŠ¤æ“ä½œåºåˆ—ï¼Œé‚£åªèƒ½æœ´ç´ æ±‚å’Œï¼›è‹¥ç»´æŠ¤åŒºé—´å’Œï¼Œé‚£sqrtè¦è½å®åˆ°æ‰€æœ‰å¶å­ç»“ç‚¹ï¼Œä»£ä»·å¤ªå¤§ã€‚  </p>
<p>ã€€ã€€åæ¥å­¦ä¹ äº†å®˜æ–¹é¢˜è§£å’Œç½‘ä¸Šçš„åšå®¢ï¼Œå…¶å®ä¸»è¦æ€§è´¨æ˜¯ï¼Œå¼€æ–¹æ“ä½œä½¿å…ƒç´ å‡å°éå¸¸å¿«ï¼Œä¸æ–­å¼€æ–¹ååŒºé—´å†…å…ƒç´ æœ€ç»ˆä¼šè¶‹è¿‘ç›¸åŒï¼Œäºæ˜¯å¯ä»¥ç”¨åˆ°ä»¥ä¸‹ä¸¤ç§ä¼˜åŒ–ï¼š</p>
<ul>
<li>è‹¥åŒºé—´å…ƒç´ ç›¸åŒï¼Œè½¬åŒ–ä¸ºåŒºé—´åŠ æ³•ï¼Œtmp+=(sqrt(val)-val)</li>
<li>è‹¥åŒºé—´å…ƒç´ æå·®ä¸º1ä¸”å¼€æ–¹åæå·®ä»ä¸º1ï¼Œè½¬åŒ–ä¸ºåŒºé—´åŠ æ³•ï¼Œtmp+=(sqrt(min)-min)</li>
</ul>
<p>ã€€ã€€å¤§æ¦‚æ˜¯å¾ˆå¤šç»†èŠ‚æ²¡å¤„ç†å¥½ï¼Œå¥—ä¸Šè¯»å…¥ä¼˜åŒ–ä¹Ÿåªèƒ½åˆ°2839MSï¼Œè¿‡å¾—å¾ˆå‹‰å¼ºï¼ ï¼  </p>
<p>ã€€ã€€æ•²å®Œè¿™é¢˜æƒ³åˆ°äº†å¤šæ ¡1çš„é‚£é“GCDï¼Œå½“æ—¶æˆ‘ç”¨æç«¯æ•°æ®a[i]=2^iæ¨ç¿»äº†è‡ªå·±çš„ç®—æ³•ï¼Œå´æ²¡æœ‰æ³¨æ„åˆ°åœ¨a[i]çš„é™åˆ¶èŒƒå›´å†…ä¸å¯èƒ½å‡ºç°æŒç»­çš„æç«¯æ•°æ®ã€‚ä¸¤é“é¢˜å…¶å®æ˜¯ç”¨å¼€æ–¹å’Œå¯¹æ•°å°†é¢˜é¢çš„å¤§èŒƒå›´ç¼©å°åˆ°äº†å¯æ“ä½œçš„å°èŒƒå›´å†…ï¼Œä»¥åé‡åˆ°ç±»ä¼¼é—®é¢˜è¦æœ‰è¿™æ ·çš„æ„è¯†ã€‚<br>ã€€ã€€ï¼ˆè°èƒ½å‘Šè¯‰æˆ‘è¿™ç¯‡ä»£ç ä¸ºä»€ä¹ˆä¸èƒ½é«˜äº®ğŸ˜­ï¼‰  </p>
<p><br></p>
<hr>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div></pre></td><td class="code"><pre><div class="line">#include&lt;iostream&gt;</div><div class="line">#include&lt;cstring&gt;</div><div class="line">#include&lt;cstdlib&gt;</div><div class="line">#include&lt;cstdio&gt;</div><div class="line">#include&lt;cmath&gt;</div><div class="line">#include&lt;algorithm&gt;</div><div class="line">#define kl (k&lt;&lt;1)</div><div class="line">#define kr ((k&lt;&lt;1)+1)</div><div class="line">#define mid ((l+r)&gt;&gt;1)</div><div class="line">using namespace std;</div><div class="line">typedef long long lint;</div><div class="line">const int maxn=1e5 + 10;</div><div class="line">  </div><div class="line">int T, n, m;</div><div class="line">struct node</div><div class="line">&#123;</div><div class="line">	lint mn, mx, sum, tmp;</div><div class="line">	node(lint _mn=0, lint _mx=0, lint s=0, lint t=0) &#123; mn=_mn, mx=_mx, sum=s, tmp=t; &#125;</div><div class="line">&#125;tr[maxn&lt;&lt;2];</div><div class="line">  </div><div class="line">void Get_lint(lint &amp;num, char c=0)</div><div class="line">&#123;</div><div class="line">	for(c=getchar(); c&lt;'0'||c&gt;'9'; c=getchar());</div><div class="line">	for(num=c-48; c=getchar(), c&gt;='0'&amp;&amp;c&lt;='9'; num=num*10+c-48);</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">void Build(int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">	tr[k].mn=tr[k].mx=tr[k].sum=tr[k].tmp=0;</div><div class="line">	if(l==r)	return ;</div><div class="line">	Build(kl, l, mid);</div><div class="line">	Build(kr, mid+1, r);</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">void Push_down(int k, int l, int r)</div><div class="line">&#123;</div><div class="line">	tr[kl].mn+=tr[k].tmp, tr[kl].mx+=tr[k].tmp, tr[kl].sum+=(mid-l+1)*tr[k].tmp, tr[kl].tmp+=tr[k].tmp;</div><div class="line">	tr[kr].mn+=tr[k].tmp, tr[kr].mx+=tr[k].tmp, tr[kr].sum+=(r-mid)*tr[k].tmp, tr[kr].tmp+=tr[k].tmp;</div><div class="line">	tr[k].tmp=0;</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">void Push_up(int k, int l, int r)</div><div class="line">&#123;</div><div class="line">	tr[k].mn=min(tr[kl].mn, tr[kr].mn);</div><div class="line">	tr[k].mx=max(tr[kl].mx, tr[kr].mx);</div><div class="line">	tr[k].sum=tr[kl].sum+tr[kr].sum;</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">void Insert(int ll, int rr, lint x, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">	if(rr &lt;l||r&lt; ll)	return ;</div><div class="line">	if(ll&lt;=l&amp;&amp;r&lt;=rr)</div><div class="line">	&#123;</div><div class="line">		tr[k].mn+=x, tr[k].mx+=x, tr[k].sum+=(r-l+1)*x, tr[k].tmp+=x;</div><div class="line">		return ;</div><div class="line">	&#125;</div><div class="line">	if(tr[k].tmp)	Push_down(k, l, r);</div><div class="line">	Insert(ll, rr, x, kl, l, mid);</div><div class="line">	Insert(ll, rr, x, kr, mid+1, r);</div><div class="line">	Push_up(k, l, r);</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">void Modify(int ll, int rr, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">	if(rr &lt;l||r&lt; ll)	return ;</div><div class="line">	if(ll&lt;=l&amp;&amp;r&lt;=rr)</div><div class="line">	&#123;</div><div class="line">		if(tr[k].mn==tr[k].mx)</div><div class="line">		&#123;</div><div class="line">			lint tmp=sqrt(tr[k].mn);</div><div class="line">			tr[k].tmp+=tmp-tr[k].mn, tr[k].sum=(r-l+1)*tmp, tr[k].mn=tr[k].mx=tmp;</div><div class="line">			return ;</div><div class="line">		&#125;</div><div class="line">		else if(tr[k].mn+1==tr[k].mx)</div><div class="line">		&#123;</div><div class="line">			lint tp1=sqrt(tr[k].mn), tp2=sqrt(tr[k].mx);</div><div class="line">			if(tp1+1==tp2)</div><div class="line">			&#123;</div><div class="line">				tr[k].tmp+=tp1-tr[k].mn, tr[k].sum+=(r-l+1)*(tp1-tr[k].mn), tr[k].mn=tp1, tr[k].mx=tp2;</div><div class="line">				return ;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	if(tr[k].tmp)	Push_down(k, l, r);</div><div class="line">	Modify(ll, rr, kl, l, mid);</div><div class="line">	Modify(ll, rr, kr, mid+1, r);</div><div class="line">	Push_up(k, l, r);</div><div class="line">	return ;</div><div class="line">&#125;</div><div class="line">  </div><div class="line">lint Query(int ll, int rr, int k=1, int l=1, int r=n)</div><div class="line">&#123;</div><div class="line">	if(rr &lt;l||r&lt; ll)	return 0;</div><div class="line">	if(ll&lt;=l&amp;&amp;r&lt;=rr)	return tr[k].sum;</div><div class="line">	if(tr[k].tmp)	Push_down(k, l, r);</div><div class="line">	return Query(ll, rr, kl, l, mid)+Query(ll, rr, kr, mid+1, r);</div><div class="line">&#125;</div><div class="line">  </div><div class="line">int main()</div><div class="line">&#123;</div><div class="line">	scanf("%d", &amp;T);</div><div class="line">	while(T--)</div><div class="line">	&#123;</div><div class="line">		scanf("%d%d", &amp;n, &amp;m);</div><div class="line">		Build();</div><div class="line">		  </div><div class="line">		lint d, l, r, x;</div><div class="line">		for(int i=1; i&lt;=n; i++)</div><div class="line">		&#123;</div><div class="line">			Get_lint(x);</div><div class="line">			Insert(i, i, x);</div><div class="line">		&#125;</div><div class="line">		  </div><div class="line">		for(int i=1; i&lt;=m; i++)</div><div class="line">		&#123;</div><div class="line">			Get_lint(d), Get_lint(l), Get_lint(r);</div><div class="line">			if(d==1)</div><div class="line">			&#123;</div><div class="line">				Get_lint(x);</div><div class="line">				Insert(l, r, x);</div><div class="line">			&#125;</div><div class="line">			else if(d==2)	Modify(l, r);</div><div class="line">			else printf("%lld\n", Query(l, r));</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><br></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ã€€ã€€2016 Multi-University Training Contest 8  &lt;/p&gt;
&lt;p&gt;ã€€ã€€é¢˜æ„ï¼šnå…ƒç´ åºåˆ—ï¼Œç»™å®šmç§æ“ä½œâ€”â€”åŒºé—´åŠ æ³•ï¼ŒåŒºé—´å¼€æ–¹ï¼ŒåŒºé—´æ±‚å’Œã€‚å¯¹äºæ¯ä¸ªæ±‚å’Œæ“ä½œï¼Œè¾“å‡ºç»“æœã€‚&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=5828&quot;&gt; - åŸé¢˜é“¾æ¥&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACMé¢˜è§£" scheme="http://thea-r.github.io/categories/ACM%E9%A2%98%E8%A7%A3/"/>
    
    
      <category term="çº¿æ®µæ ‘" scheme="http://thea-r.github.io/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
      <category term="HDU" scheme="http://thea-r.github.io/tags/HDU/"/>
    
      <category term="2016å¤šæ ¡" scheme="http://thea-r.github.io/tags/2016%E5%A4%9A%E6%A0%A1/"/>
    
  </entry>
  
</feed>
